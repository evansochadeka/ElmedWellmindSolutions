<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mental Health Support Platform | Contact & Video Sessions</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <style>
        /* ===== CSS RESET & BASE STYLES ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #f8f9ff 0%, #f0f4ff 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* ===== NAVIGATION ===== */
        .main-nav {
            background: linear-gradient(135deg, #1a237e 0%, #283593 100%);
            color: white;
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.5rem;
            font-weight: 700;
            color: white;
        }

        .logo i {
            color: #6c63ff;
            font-size: 2rem;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            padding: 8px 16px;
            border-radius: 20px;
            transition: all 0.3s;
        }

        .nav-links a:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
        }

        .nav-links a.active {
            background: #6c63ff;
            box-shadow: 0 4px 15px rgba(108, 99, 255, 0.3);
        }

        /* ===== HERO SECTION ===== */
        .hero-section {
            padding: 80px 0;
            background: linear-gradient(rgba(26, 35, 126, 0.9), rgba(40, 53, 147, 0.9)),
                        url('https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80');
            background-size: cover;
            background-position: center;
            color: white;
            text-align: center;
            margin-bottom: 60px;
        }

        .hero-content {
            max-width: 800px;
            margin: 0 auto;
        }

        .hero-title {
            font-family: 'Montserrat', sans-serif;
            font-size: 3.5rem;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .hero-subtitle {
            font-size: 1.3rem;
            opacity: 0.9;
            margin-bottom: 40px;
            line-height: 1.8;
        }

        .hero-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn {
            padding: 16px 32px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 600;
            font-size: 1.1rem;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            border: none;
            outline: none;
        }

        .btn-primary {
            background: linear-gradient(135deg, #6c63ff 0%, #36d1dc 100%);
            color: white;
            box-shadow: 0 8px 25px rgba(108, 99, 255, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(108, 99, 255, 0.4);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.2);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-3px);
        }

        .btn-danger {
            background: linear-gradient(135deg, #ff6b6b 0%, #ff8e8e 100%);
            color: white;
        }

        /* ===== SECTION COMMON STYLES ===== */
        .section-header {
            text-align: center;
            margin-bottom: 60px;
        }

        .section-title {
            font-family: 'Montserrat', sans-serif;
            font-size: 3rem;
            color: #1a237e;
            margin-bottom: 15px;
            position: relative;
            display: inline-block;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background: linear-gradient(135deg, #6c63ff, #36d1dc);
            border-radius: 2px;
        }

        .section-subtitle {
            font-size: 1.2rem;
            color: #666;
            max-width: 700px;
            margin: 30px auto 0;
            line-height: 1.8;
        }

        /* ===== CONTACT SECTION ===== */
        .contact-section {
            padding: 80px 0;
        }

        /* ===== CONTACT GRID ===== */
        .contact-grid {
            display: grid;
            grid-template-columns: 1fr 1.2fr;
            gap: 40px;
            margin-bottom: 60px;
        }

        @media (max-width: 1100px) {
            .contact-grid {
                grid-template-columns: 1fr;
            }
        }

        /* ===== CONTACT INFO CARD ===== */
        .contact-info-card {
            background: white;
            border-radius: 25px;
            padding: 40px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.08);
            border: 1px solid rgba(108, 99, 255, 0.1);
            height: fit-content;
        }

        .contact-info-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 30px;
        }

        .contact-info-header i {
            font-size: 2.5rem;
            background: linear-gradient(135deg, #6c63ff, #36d1dc);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .contact-info-header h3 {
            font-size: 1.8rem;
            color: #1a237e;
        }

        .contact-info-content p {
            color: #666;
            margin-bottom: 30px;
            line-height: 1.8;
        }

        /* ===== CONTACT DETAILS ===== */
        .contact-details {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        .contact-detail-item {
            display: flex;
            align-items: flex-start;
            gap: 20px;
            padding: 20px;
            background: #f8f9ff;
            border-radius: 15px;
            transition: all 0.3s;
            border: 1px solid transparent;
        }

        .contact-detail-item:hover {
            border-color: #6c63ff;
            transform: translateX(10px);
            background: white;
            box-shadow: 0 10px 25px rgba(108, 99, 255, 0.1);
        }

        .contact-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #6c63ff, #36d1dc);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.3rem;
        }

        .contact-text h4 {
            color: #1a237e;
            margin-bottom: 5px;
            font-size: 1.2rem;
        }

        .contact-text p {
            color: #555;
            margin-bottom: 5px;
        }

        .contact-text a {
            color: #6c63ff;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }

        .contact-text a:hover {
            color: #4a43d4;
            text-decoration: underline;
        }

        .contact-text small {
            color: #888;
            font-size: 0.9rem;
            display: block;
            margin-top: 5px;
        }

        /* ===== QUICK ACTIONS ===== */
        .quick-actions {
            margin-top: 30px;
        }

        .quick-actions h4 {
            display: flex;
            align-items: center;
            gap: 10px;
            color: #1a237e;
            margin-bottom: 20px;
            font-size: 1.2rem;
        }

        .quick-buttons-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .quick-btn {
            padding: 15px;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: all 0.3s;
            font-size: 0.95rem;
        }

        .whatsapp-btn {
            background: #25D366;
            color: white;
        }

        .call-btn {
            background: #2196F3;
            color: white;
        }

        .email-btn {
            background: #6c63ff;
            color: white;
        }

        .location-btn {
            background: #9C27B0;
            color: white;
        }

        .quick-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
        }

        /* ===== OFFICE HOURS ===== */
        .office-hours {
            background: linear-gradient(135deg, #f0f7ff 0%, #e3f2fd 100%);
            border-radius: 20px;
            padding: 25px;
            margin-top: 30px;
            border-left: 5px solid #6c63ff;
        }

        .office-hours h4 {
            display: flex;
            align-items: center;
            gap: 10px;
            color: #1a237e;
            margin-bottom: 20px;
            font-size: 1.2rem;
        }

        .hours-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .hour-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid rgba(108, 99, 255, 0.1);
        }

        .hour-item:last-child {
            border-bottom: none;
        }

        .hour-item span:first-child {
            color: #555;
        }

        .hour-item span:last-child {
            color: #6c63ff;
            font-weight: 600;
        }

        /* ===== EMERGENCY CONTACTS ===== */
        .emergency-contacts {
            background: linear-gradient(135deg, #fff5f5 0%, #ffeaea 100%);
            border-radius: 20px;
            padding: 25px;
            margin-top: 30px;
            border: 2px solid #ff6b6b;
        }

        .emergency-contacts h4 {
            display: flex;
            align-items: center;
            gap: 10px;
            color: #d32f2f;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }

        .emergency-contacts p {
            color: #666;
            margin-bottom: 15px;
        }

        .emergency-contacts ul {
            list-style: none;
            padding-left: 5px;
        }

        .emergency-contacts li {
            padding: 8px 0;
            border-bottom: 1px dashed rgba(211, 47, 47, 0.2);
            color: #333;
        }

        .emergency-contacts li:last-child {
            border-bottom: none;
        }

        .emergency-contacts strong {
            color: #d32f2f;
        }

        /* ===== CONTACT FORM ===== */
        .contact-form-card {
            background: white;
            border-radius: 25px;
            padding: 40px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.08);
            border: 1px solid rgba(108, 99, 255, 0.1);
        }

        .contact-form-header {
            margin-bottom: 30px;
        }

        .contact-form-header h3 {
            font-size: 1.8rem;
            color: #1a237e;
            margin-bottom: 10px;
        }

        .contact-form-header p {
            color: #666;
        }

        /* ===== FORM STYLES ===== */
        .contact-form {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
            }
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group label {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #555;
            font-weight: 500;
            margin-bottom: 8px;
        }

        .form-group label i {
            color: #6c63ff;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            padding: 16px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            font-size: 1rem;
            font-family: 'Poppins', sans-serif;
            transition: all 0.3s;
            background: white;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #6c63ff;
            box-shadow: 0 0 0 3px rgba(108, 99, 255, 0.1);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 120px;
        }

        /* ===== CONTACT METHODS ===== */
        .contact-methods {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .method-option {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px 20px;
            background: #f8f9ff;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .method-option:hover {
            border-color: #6c63ff;
            background: #f0f2ff;
        }

        .method-option input {
            margin-right: 5px;
        }

        /* ===== PRIORITY SELECTOR ===== */
        .priority-selector {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .priority-option {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 20px;
            background: #f8f9ff;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .priority-option:hover {
            transform: translateY(-2px);
        }

        .priority-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        .priority-dot.low {
            background: #4CAF50;
        }

        .priority-dot.medium {
            background: #FFC107;
        }

        .priority-dot.high {
            background: #FF9800;
        }

        .priority-dot.emergency {
            background: #f44336;
            animation: pulse 1.5s infinite;
        }

        /* ===== CAPTCHA ===== */
        .captcha-container {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 20px;
            background: #f8f9ff;
            border-radius: 15px;
            border: 1px solid #e8eaff;
        }

        .captcha-question {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .captcha-question span {
            padding: 8px 15px;
            background: white;
            border-radius: 8px;
            border: 2px solid #e0e0e0;
            min-width: 100px;
            text-align: center;
        }

        .captcha-input {
            width: 80px;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            text-align: center;
            font-size: 1.1rem;
        }

        .btn-refresh {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: none;
            background: linear-gradient(135deg, #6c63ff, #36d1dc);
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .btn-refresh:hover {
            transform: rotate(180deg);
            box-shadow: 0 8px 20px rgba(108, 99, 255, 0.3);
        }

        /* ===== PRIVACY CONSENT ===== */
        .privacy-consent {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            padding: 20px;
            background: #f8f9ff;
            border-radius: 15px;
        }

        .privacy-consent input {
            margin-top: 5px;
        }

        .privacy-consent label {
            color: #555;
            line-height: 1.6;
        }

        /* ===== FORM SUBMIT ===== */
        .form-submit {
            margin-top: 20px;
        }

        .btn-submit {
            width: 100%;
            padding: 20px;
            background: linear-gradient(135deg, #6c63ff, #36d1dc);
            color: white;
            border: none;
            border-radius: 15px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: all 0.3s;
        }

        .btn-submit:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(108, 99, 255, 0.3);
        }

        .btn-submit:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            transform: none;
        }

        .submit-loader {
            display: none;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s linear infinite;
        }

        .form-note {
            text-align: center;
            color: #888;
            margin-top: 15px;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        /* ===== STATUS INDICATORS ===== */
        .status-indicators {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 40px 0;
        }

        .status-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 20px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);
            border: 1px solid rgba(108, 99, 255, 0.1);
        }

        .status-item i {
            font-size: 1.5rem;
        }

        .status-item.online i {
            color: #4CAF50;
            animation: pulse 2s infinite;
        }

        .status-item i.fa-check-circle {
            color: #6c63ff;
        }

        .status-item i.fa-shield-alt {
            color: #2196F3;
        }

        .status-item i.fa-user-md {
            color: #9C27B0;
        }

        /* ===== VIDEO CONFERENCING SECTION ===== */
        .video-call-section {
            padding: 80px 0;
            background: linear-gradient(135deg, #f0f4ff 0%, #f8f9ff 100%);
            min-height: 100vh;
        }

        .video-call-container {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 30px;
            height: 70vh;
            margin-bottom: 50px;
        }

        @media (max-width: 992px) {
            .video-call-container {
                grid-template-columns: 1fr;
                height: auto;
            }
        }

        /* ===== LEFT PANEL ===== */
        .left-panel {
            background: white;
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 40px rgba(108, 99, 255, 0.1);
            border: 1px solid rgba(108, 99, 255, 0.1);
            overflow-y: auto;
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #f0f2ff;
        }

        .profile-avatar {
            width: 70px;
            height: 70px;
            background: linear-gradient(135deg, #6c63ff, #36d1dc);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2rem;
        }

        .profile-info h3 {
            margin: 0 0 5px 0;
            color: #1a237e;
            font-size: 1.3rem;
        }

        .user-status {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #666;
            font-size: 0.9rem;
        }

        .status-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #4CAF50;
        }

        .status-indicator.online {
            background: #4CAF50;
            animation: pulse 2s infinite;
        }

        .user-id {
            color: #888;
            font-size: 0.85rem;
        }

        /* ===== MEETING CONTROLS ===== */
        .meeting-controls h4 {
            color: #1a237e;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .control-group {
            margin-bottom: 30px;
        }

        .control-item {
            margin-bottom: 20px;
        }

        .control-btn {
            width: 100%;
            padding: 15px;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: all 0.3s;
        }

        .control-btn.primary {
            background: linear-gradient(135deg, #6c63ff, #36d1dc);
            color: white;
        }

        .control-btn.secondary {
            background: #f0f2ff;
            color: #6c63ff;
            border: 2px solid #6c63ff;
        }

        .control-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(108, 99, 255, 0.3);
        }

        .input-group {
            display: flex;
            gap: 10px;
        }

        #meetingCode {
            flex: 1;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            font-size: 1rem;
        }

        .control-help {
            font-size: 0.85rem;
            color: #888;
            margin-top: 5px;
        }

        /* ===== DEVICE SETTINGS ===== */
        .device-settings {
            margin-bottom: 30px;
        }

        .device-settings h5 {
            color: #1a237e;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .setting-item {
            margin-bottom: 15px;
            padding: 12px;
            background: #f8f9ff;
            border-radius: 10px;
        }

        .setting-item label {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 8px;
            cursor: pointer;
        }

        .setting-label {
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 500;
        }

        .device-select {
            width: 100%;
            padding: 8px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            background: white;
        }

        /* ===== QUICK ACTIONS ===== */
        .quick-actions h5 {
            color: #1a237e;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .action-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }

        .action-btn {
            padding: 12px;
            background: white;
            border: 2px solid #f0f2ff;
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .action-btn:hover {
            border-color: #6c63ff;
            transform: translateY(-2px);
        }

        .action-btn i {
            font-size: 1.2rem;
            color: #6c63ff;
        }

        .action-btn span {
            font-size: 0.85rem;
            font-weight: 600;
        }

        /* ===== SUPPORT GROUPS ===== */
        .support-groups h5 {
            color: #1a237e;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .groups-list {
            margin-bottom: 20px;
        }

        .group-item {
            padding: 12px;
            background: #f8f9ff;
            border-radius: 10px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .group-item:hover {
            background: #e8eaff;
            transform: translateX(5px);
        }

        .group-info h6 {
            margin: 0;
            color: #1a237e;
            font-size: 0.95rem;
        }

        .group-info small {
            color: #666;
            font-size: 0.85rem;
        }

        .group-count {
            background: #6c63ff;
            color: white;
            padding: 3px 10px;
            border-radius: 15px;
            font-size: 0.85rem;
        }

        .btn-browse-groups {
            width: 100%;
            padding: 12px;
            background: transparent;
            border: 2px dashed #6c63ff;
            border-radius: 12px;
            color: #6c63ff;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: all 0.3s;
        }

        .btn-browse-groups:hover {
            background: #f0f2ff;
        }

        /* ===== MAIN VIDEO AREA ===== */
        .main-video-area {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .video-container {
            flex: 1;
            background: #1a1a2e;
            border-radius: 20px;
            overflow: hidden;
            position: relative;
        }

        .video-wrapper {
            position: absolute;
            border-radius: 10px;
            overflow: hidden;
            background: #2a2a3e;
        }

        .local-video {
            width: 250px;
            height: 180px;
            bottom: 100px;
            right: 20px;
            z-index: 10;
            border: 3px solid #6c63ff;
        }

        .video-wrapper video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .video-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0,0,0,0.7));
            padding: 10px;
            color: white;
        }

        .video-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .user-name {
            font-weight: 600;
        }

        .video-status i {
            margin-left: 5px;
            color: #4CAF50;
        }

        .video-controls {
            display: flex;
            justify-content: center;
            gap: 10px;
        }

        .video-control-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: none;
            background: rgba(255,255,255,0.2);
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .video-control-btn:hover {
            background: rgba(255,255,255,0.3);
            transform: scale(1.1);
        }

        .video-control-btn.danger {
            background: #ff4757;
        }

        /* ===== REMOTE VIDEOS ===== */
        .remote-videos {
            width: 100%;
            height: 100%;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 10px;
            padding: 20px;
        }

        .remote-video-wrapper {
            position: relative;
            background: #2a2a3e;
            border-radius: 10px;
            overflow: hidden;
            aspect-ratio: 16/9;
        }

        /* ===== NO MEETING VIEW ===== */
        .no-meeting-view {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(26, 26, 46, 0.95);
        }

        .empty-state {
            text-align: center;
            color: white;
            max-width: 500px;
            padding: 40px;
        }

        .empty-state i {
            font-size: 4rem;
            color: #6c63ff;
            margin-bottom: 20px;
        }

        .empty-state h3 {
            font-size: 2rem;
            margin-bottom: 15px;
        }

        .empty-state p {
            color: #b3b3cc;
            margin-bottom: 30px;
            font-size: 1.1rem;
        }

        .empty-actions {
            display: flex;
            gap: 15px;
            justify-content: center;
        }

        .btn-primary-video, .btn-secondary-video {
            padding: 15px 30px;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s;
        }

        .btn-primary-video {
            background: linear-gradient(135deg, #6c63ff, #36d1dc);
            color: white;
        }

        .btn-secondary-video {
            background: rgba(255,255,255,0.1);
            color: white;
            border: 2px solid rgba(255,255,255,0.2);
        }

        .btn-primary-video:hover, .btn-secondary-video:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.3);
        }

        /* ===== CONTROL BAR ===== */
        .control-bar {
            background: white;
            border-radius: 20px;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 10px 40px rgba(108, 99, 255, 0.1);
            border: 1px solid rgba(108, 99, 255, 0.1);
        }

        .control-left, .control-center, .control-right {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .control-bar-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: none;
            background: #f0f2ff;
            color: #6c63ff;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            transition: all 0.3s;
            position: relative;
        }

        .control-bar-btn:hover {
            background: #e8eaff;
            transform: scale(1.1);
        }

        .control-bar-btn.primary {
            background: linear-gradient(135deg, #6c63ff, #36d1dc);
            color: white;
            width: auto;
            padding: 15px 30px;
            border-radius: 25px;
            font-weight: 600;
        }

        .control-bar-btn.danger {
            background: #ff4757;
            color: white;
            width: auto;
            padding: 15px 30px;
            border-radius: 25px;
            font-weight: 600;
        }

        .badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #ff4757;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 0.75rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* ===== CHAT PANEL ===== */
        .chat-panel {
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            width: 350px;
            background: white;
            border-left: 1px solid #e0e0e0;
            transform: translateX(100%);
            transition: transform 0.3s;
            display: flex;
            flex-direction: column;
            z-index: 100;
        }

        .chat-panel.active {
            transform: translateX(0);
        }

        .chat-header {
            padding: 20px;
            border-bottom: 1px solid #e0e0e0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chat-header h4 {
            margin: 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .chat-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
        }

        .chat-message {
            margin-bottom: 15px;
            max-width: 80%;
        }

        .chat-message.sent {
            margin-left: auto;
            text-align: right;
        }

        .message-content {
            background: #f0f2ff;
            padding: 12px 15px;
            border-radius: 15px;
            display: inline-block;
        }

        .chat-message.sent .message-content {
            background: #6c63ff;
            color: white;
            border-bottom-right-radius: 5px;
        }

        .chat-message.received .message-content {
            border-bottom-left-radius: 5px;
        }

        .message-sender {
            font-size: 0.85rem;
            color: #666;
            margin-bottom: 5px;
        }

        .message-time {
            font-size: 0.75rem;
            color: #888;
            margin-top: 5px;
        }

        .chat-input {
            padding: 20px;
            border-top: 1px solid #e0e0e0;
            display: flex;
            gap: 10px;
        }

        .chat-input input {
            flex: 1;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 25px;
            outline: none;
        }

        .chat-input button {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: none;
            background: #6c63ff;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* ===== PARTICIPANTS PANEL ===== */
        .participants-panel {
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            width: 300px;
            background: white;
            border-right: 1px solid #e0e0e0;
            transform: translateX(-100%);
            transition: transform 0.3s;
            display: flex;
            flex-direction: column;
            z-index: 100;
        }

        .participants-panel.active {
            transform: translateX(0);
        }

        .participants-header {
            padding: 20px;
            border-bottom: 1px solid #e0e0e0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .participants-header h4 {
            margin: 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .participants-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
        }

        .participants-list {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
        }

        .participant-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 12px;
            border-bottom: 1px solid #f0f0f0;
        }

        .participant-avatar {
            width: 40px;
            height: 40px;
            background: #6c63ff;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }

        .participant-info {
            flex: 1;
        }

        .participant-name {
            font-weight: 600;
            color: #1a237e;
        }

        .participant-role {
            font-size: 0.85rem;
            color: #666;
        }

        .participant-controls {
            display: flex;
            gap: 5px;
        }

        .participant-control-btn {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            border: none;
            background: #f0f2ff;
            color: #6c63ff;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .participants-actions {
            padding: 20px;
            border-top: 1px solid #e0e0e0;
        }

        .btn-mute-all {
            width: 100%;
            padding: 12px;
            background: #ff6b6b;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            font-weight: 600;
        }

        /* ===== GROUPS GALLERY ===== */
        .groups-gallery {
            margin: 80px 0;
        }

        .groups-gallery h3 {
            color: #1a237e;
            font-size: 2.2rem;
            margin-bottom: 15px;
            text-align: center;
        }

        .groups-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }

        .group-card {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(108, 99, 255, 0.1);
            border: 1px solid rgba(108, 99, 255, 0.1);
            display: flex;
            flex-direction: column;
            transition: transform 0.3s;
        }

        .group-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(108, 99, 255, 0.15);
        }

        .group-icon {
            font-size: 2.5rem;
            color: #6c63ff;
            margin-bottom: 20px;
        }

        .group-info h4 {
            color: #1a237e;
            margin-bottom: 10px;
        }

        .group-info p {
            color: #666;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .group-meta {
            display: flex;
            justify-content: space-between;
            color: #888;
            font-size: 0.9rem;
            margin-bottom: 20px;
        }

        .btn-join-group {
            margin-top: auto;
            padding: 15px;
            background: linear-gradient(135deg, #6c63ff, #36d1dc);
            color: white;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-join-group:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(108, 99, 255, 0.3);
        }

        /* ===== SAFETY NOTICE ===== */
        .safety-notice {
            background: linear-gradient(135deg, #f0f7ff, #e8f4ff);
            border-radius: 20px;
            padding: 40px;
            margin: 60px 0;
        }

        .notice-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .notice-header i {
            font-size: 3rem;
            color: #6c63ff;
            margin-bottom: 15px;
        }

        .notice-header h3 {
            color: #1a237e;
            font-size: 2rem;
        }

        .notice-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
        }

        .notice-item {
            display: flex;
            gap: 20px;
            align-items: flex-start;
        }

        .notice-item i {
            font-size: 2rem;
            color: #6c63ff;
            margin-top: 5px;
        }

        .notice-item h4 {
            color: #1a237e;
            margin-bottom: 5px;
        }

        .notice-item p {
            color: #666;
            line-height: 1.6;
        }

        /* ===== MEETING SCHEDULING ===== */
        .meeting-scheduling {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.05);
            margin: 60px 0;
        }

        .meeting-scheduling h3 {
            color: #1a237e;
            font-size: 2rem;
            margin-bottom: 15px;
            text-align: center;
        }

        .schedule-form {
            max-width: 800px;
            margin: 40px auto 0;
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .form-group label {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #555;
            font-weight: 500;
            margin-bottom: 8px;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            font-size: 1rem;
        }

        .btn-schedule {
            display: block;
            margin: 30px auto 0;
            padding: 18px 40px;
            background: linear-gradient(135deg, #6c63ff, #36d1dc);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .btn-schedule:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(108, 99, 255, 0.3);
        }

        /* ===== MODALS ===== */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: 20px;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 20px;
            width: 90%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            animation: modalSlideIn 0.3s ease;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-header {
            padding: 25px;
            border-bottom: 1px solid #e0e0e0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h3 {
            margin: 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 1.8rem;
            cursor: pointer;
            color: #666;
        }

        .modal-body {
            padding: 25px;
        }

        .modal-footer {
            padding: 20px 25px;
            border-top: 1px solid #e0e0e0;
            display: flex;
            justify-content: flex-end;
            gap: 15px;
        }

        /* ===== SETTINGS TABS ===== */
        .settings-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 2px solid #f0f0f0;
        }

        .tab-btn {
            padding: 10px 20px;
            background: none;
            border: none;
            border-bottom: 2px solid transparent;
            color: #666;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .tab-btn.active {
            color: #6c63ff;
            border-bottom-color: #6c63ff;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* ===== CRISIS SUPPORT ===== */
        .crisis-support {
            background: linear-gradient(135deg, #ff6b6b 0%, #ff8e8e 100%);
            border-radius: 25px;
            padding: 40px;
            margin: 60px 0;
            color: white;
            text-align: center;
        }

        .crisis-header {
            margin-bottom: 30px;
        }

        .crisis-header i {
            font-size: 3rem;
            margin-bottom: 15px;
        }

        .crisis-header h3 {
            font-size: 2rem;
        }

        .crisis-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .crisis-btn {
            background: rgba(255, 255, 255, 0.9);
            border: none;
            border-radius: 15px;
            padding: 25px 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            transition: all 0.3s;
            color: #333;
        }

        .crisis-btn:hover {
            background: white;
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
        }

        .crisis-btn i {
            font-size: 2rem;
            color: #ff6b6b;
        }

        /* ===== FAQ SECTION ===== */
        .faq-section {
            background: white;
            border-radius: 25px;
            padding: 60px;
            margin: 60px 0;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.08);
        }

        .faq-container {
            max-width: 800px;
            margin: 40px auto 0;
        }

        .faq-item {
            margin-bottom: 15px;
            border-radius: 15px;
            overflow: hidden;
            border: 1px solid #e0e0e0;
        }

        .faq-question {
            width: 100%;
            padding: 20px;
            background: #f8f9ff;
            border: none;
            text-align: left;
            font-size: 1.1rem;
            font-weight: 600;
            color: #1a237e;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s;
        }

        .faq-question:hover {
            background: #f0f2ff;
        }

        .faq-question i {
            transition: transform 0.3s;
        }

        .faq-item.active .faq-question i {
            transform: rotate(180deg);
        }

        .faq-answer {
            padding: 0 20px;
            max-height: 0;
            overflow: hidden;
            transition: all 0.3s;
        }

        .faq-item.active .faq-answer {
            padding: 20px;
            max-height: 500px;
        }

        .faq-answer p {
            color: #666;
            line-height: 1.8;
        }

        /* ===== TESTIMONIALS ===== */
        .testimonials-section {
            padding: 80px 0;
        }

        .testimonials-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }

        .testimonial-card {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            border: 1px solid rgba(108, 99, 255, 0.1);
            transition: transform 0.3s;
        }

        .testimonial-card:hover {
            transform: translateY(-10px);
        }

        .testimonial-content {
            font-style: italic;
            color: #555;
            line-height: 1.6;
            margin-bottom: 20px;
            position: relative;
            padding-left: 20px;
        }

        .testimonial-content::before {
            content: '"';
            position: absolute;
            left: 0;
            top: -10px;
            font-size: 3rem;
            color: #6c63ff;
            opacity: 0.3;
        }

        .testimonial-author {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-top: 1px solid #eee;
            padding-top: 15px;
        }

        .testimonial-author strong {
            color: #1a237e;
        }

        .testimonial-author span {
            color: #666;
            font-size: 0.9rem;
        }

        /* ===== AI CHAT WIDGET ===== */
        .chat-widget {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
        }

        .chat-toggle {
            background: linear-gradient(135deg, #6c63ff, #36d1dc);
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 50px;
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(108, 99, 255, 0.3);
            transition: all 0.3s;
            font-weight: 600;
        }

        .chat-toggle:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(108, 99, 255, 0.4);
        }

        .chat-badge {
            background: #ff4757;
            color: white;
            padding: 3px 10px;
            border-radius: 15px;
            font-size: 0.8rem;
            animation: pulse 2s infinite;
        }

        .chat-window {
            position: absolute;
            bottom: 70px;
            right: 0;
            width: 400px;
            height: 500px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
            display: none;
            flex-direction: column;
            overflow: hidden;
        }

        .chat-window.active {
            display: flex;
            animation: slideUp 0.3s ease;
        }

        .chat-header {
            padding: 20px;
            background: linear-gradient(135deg, #6c63ff, #36d1dc);
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chat-header h4 {
            margin: 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .chat-close {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }

        .chat-body {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .chat-message {
            max-width: 80%;
            padding: 15px;
            border-radius: 18px;
            line-height: 1.4;
        }

        .chat-message.bot {
            background: #f0f2ff;
            align-self: flex-start;
            border-bottom-left-radius: 5px;
        }

        .chat-message.user {
            background: #6c63ff;
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 5px;
        }

        .message-time {
            font-size: 0.75rem;
            color: #888;
            margin-top: 5px;
            text-align: right;
        }

        .chat-input {
            padding: 20px;
            border-top: 1px solid #e0e0e0;
            display: flex;
            gap: 10px;
        }

        .chat-input input {
            flex: 1;
            padding: 12px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 25px;
            font-size: 1rem;
            outline: none;
        }

        .chat-input input:focus {
            border-color: #6c63ff;
        }

        .chat-input button {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: none;
            background: #6c63ff;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* ===== FOOTER ===== */
        footer {
            background: #1a237e;
            color: white;
            padding: 60px 0 20px;
            margin-top: 80px;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }

        .footer-section h4 {
            font-size: 1.3rem;
            margin-bottom: 20px;
            color: #6c63ff;
        }

        .footer-section p {
            opacity: 0.9;
            line-height: 1.6;
        }

        .footer-section ul {
            list-style: none;
        }

        .footer-section ul li {
            margin-bottom: 10px;
            opacity: 0.9;
        }

        .footer-bottom {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            opacity: 0.7;
        }

        /* ===== ANIMATIONS ===== */
        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        /* ===== NOTIFICATIONS ===== */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 20px 25px;
            border-radius: 15px;
            color: white;
            font-weight: 500;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            z-index: 1001;
            animation: slideUp 0.3s ease;
            display: flex;
            align-items: center;
            gap: 15px;
            max-width: 400px;
        }

        .notification.success {
            background: linear-gradient(135deg, #4CAF50, #2E7D32);
        }

        .notification.error {
            background: linear-gradient(135deg, #f44336, #d32f2f);
        }

        .notification.warning {
            background: linear-gradient(135deg, #FF9800, #F57C00);
        }

        .notification.info {
            background: linear-gradient(135deg, #2196F3, #1976D2);
        }

        .notification-close {
            background: none;
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            margin-left: auto;
        }

        /* ===== RESPONSIVE DESIGN ===== */
        @media (max-width: 992px) {
            .hero-title {
                font-size: 2.5rem;
            }
            
            .section-title {
                font-size: 2.5rem;
            }
            
            .nav-links {
                display: none;
            }
            
            .mobile-menu-btn {
                display: block;
            }
        }

        @media (max-width: 768px) {
            .contact-grid,
            .quick-buttons-grid,
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .hero-title {
                font-size: 2rem;
            }
            
            .chat-window {
                width: 90vw;
                right: 5vw;
            }
            
            .video-features {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            .contact-info-card,
            .contact-form-card,
            .faq-section {
                padding: 25px;
            }
            
            .section-title {
                font-size: 2rem;
            }
        }

        /* ===== UTILITY CLASSES ===== */
        .text-center { text-align: center; }
        .mt-20 { margin-top: 20px; }
        .mt-30 { margin-top: 30px; }
        .mt-40 { margin-top: 40px; }
        .mb-20 { margin-bottom: 20px; }
        .mb-30 { margin-bottom: 30px; }
        .mb-40 { margin-bottom: 40px; }
        .hidden { display: none; }

        /* ===== MOBILE MENU ===== */
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }

        @media (max-width: 992px) {
            .mobile-menu-btn {
                display: block;
            }
            
            .nav-links {
                position: fixed;
                top: 70px;
                left: 0;
                right: 0;
                background: #1a237e;
                flex-direction: column;
                padding: 20px;
                display: none;
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            }
            
            .nav-links.active {
                display: flex;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="main-nav">
        <div class="container nav-container">
            <div class="logo">
                <i class="fas fa-heartbeat"></i>
                <span>MentalWell</span>
            </div>
            
            <button class="mobile-menu-btn">
                <i class="fas fa-bars"></i>
            </button>
            
            <ul class="nav-links">
                <li><a href="#home" class="active">Home</a></li>
                <li><a href="#contact">Contact</a></li>
                <li><a href="#video-call">Video Sessions</a></li>
                <li><a href="#resources">Resources</a></li>
                <li><a href="#faq">FAQ</a></li>
                <li><a href="#chat" class="btn btn-primary" style="padding: 8px 20px;">Live Chat</a></li>
            </ul>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="hero-section">
        <div class="container">
            <div class="hero-content">
                <h1 class="hero-title">Your Mental Health Matters</h1>
                <p class="hero-subtitle">
                    Professional support, compassionate care, and immediate resources for your mental wellness journey. 
                    We're here to listen, support, and guide you every step of the way.
                </p>
                <div class="hero-buttons">
                    <a href="#contact" class="btn btn-primary">
                        <i class="fas fa-headset"></i>
                        Get Immediate Help
                    </a>
                    <a href="#video-call" class="btn btn-secondary">
                        <i class="fas fa-video"></i>
                        Join Video Session
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <main class="container">
        <!-- Contact Section -->
        <section id="contact" class="contact-section">
            <div class="section-header">
                <h2 class="section-title">Get in Touch</h2>
                <p class="section-subtitle">
                    Reach out to us for support, questions, or to schedule a consultation. 
                    We're here to help you on your wellness journey with professional, 
                    confidential, and compassionate care.
                </p>
            </div>

            <div class="contact-grid">
                <!-- Contact Information Column -->
                <div class="contact-info-card">
                    <div class="contact-info-header">
                        <i class="fas fa-headset"></i>
                        <h3>Contact Information</h3>
                    </div>
                    
                    <div class="contact-info-content">
                        <p>We're here to listen and support you every step of the way. Reach out through any channel that feels comfortable for you.</p>
                        
                        <div class="contact-details">
                            <!-- Location -->
                            <div class="contact-detail-item">
                                <div class="contact-icon">
                                    <i class="fas fa-map-marker-alt"></i>
                                </div>
                                <div class="contact-text">
                                    <h4>Our Location</h4>
                                    <p>Kahawa Wendani, Thika Road<br>Nairobi, Kenya</p>
                                    <small>Free parking available</small>
                                </div>
                            </div>
                            
                            <!-- Phone -->
                            <div class="contact-detail-item">
                                <div class="contact-icon">
                                    <i class="fas fa-phone"></i>
                                </div>
                                <div class="contact-text">
                                    <h4>Phone Number</h4>
                                    <p><a href="tel:+254759226354">+254 759 226354</a></p>
                                    <small>Available 24/7 for emergencies</small>
                                </div>
                            </div>
                            
                            <!-- Email -->
                            <div class="contact-detail-item">
                                <div class="contact-icon">
                                    <i class="fas fa-envelope"></i>
                                </div>
                                <div class="contact-text">
                                    <h4>Email Address</h4>
                                    <p><a href="mailto:elijahokware@gmail.com">elijahokware@gmail.com</a></p>
                                    <small>Response within 24 hours</small>
                                </div>
                            </div>
                            
                            <!-- WhatsApp -->
                            <div class="contact-detail-item">
                                <div class="contact-icon">
                                    <i class="fab fa-whatsapp"></i>
                                </div>
                                <div class="contact-text">
                                    <h4>WhatsApp Support</h4>
                                    <p><a href="https://wa.me/254759226354" target="_blank">+254 759 226354</a></p>
                                    <small>Instant chat support</small>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Quick Actions -->
                        <div class="quick-actions">
                            <h4><i class="fas fa-bolt"></i> Quick Actions</h4>
                            <div class="quick-buttons-grid">
                                <button class="quick-btn whatsapp-btn" onclick="window.open('https://wa.me/254759226354', '_blank')">
                                    <i class="fab fa-whatsapp"></i> WhatsApp Now
                                </button>
                                <button class="quick-btn call-btn" onclick="window.location.href='tel:+254759226354'">
                                    <i class="fas fa-phone"></i> Call Now
                                </button>
                                <button class="quick-btn email-btn" onclick="window.location.href='mailto:elijahokware@gmail.com'">
                                    <i class="fas fa-envelope"></i> Email Directly
                                </button>
                                <button class="quick-btn location-btn" onclick="window.open('https://maps.google.com/?q=Kahawa+Wendani+Thika+Road+Nairobi', '_blank')">
                                    <i class="fas fa-map-marker-alt"></i> Get Directions
                                </button>
                            </div>
                        </div>
                        
                        <!-- Office Hours -->
                        <div class="office-hours">
                            <h4><i class="fas fa-clock"></i> Office Hours</h4>
                            <div class="hours-list">
                                <div class="hour-item">
                                    <span>Monday - Friday</span>
                                    <span>8:00 AM - 8:00 PM</span>
                                </div>
                                <div class="hour-item">
                                    <span>Saturday</span>
                                    <span>9:00 AM - 4:00 PM</span>
                                </div>
                                <div class="hour-item">
                                    <span>Sunday</span>
                                    <span>Emergency Only</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Emergency Contacts -->
                        <div class="emergency-contacts">
                            <h4><i class="fas fa-exclamation-triangle"></i> Emergency Contacts</h4>
                            <p>If you're in crisis, contact immediately:</p>
                            <ul>
                                <li><strong>Our Crisis Line:</strong> +254 759 226354</li>
                                <li><strong>Kenya Red Cross:</strong> 1199</li>
                                <li><strong>Emergency Police:</strong> 999 </li>
                                <li><strong>Emergency :</strong> 112</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Contact Form Column -->
                <div class="contact-form-card">
                    <div class="contact-form-header">
                        <h3>Send Us a Message</h3>
                        <p>Fill out the form below and we'll get back to you as soon as possible.</p>
                    </div>
                    
                    <!-- Status Message -->
                    <div id="formStatus" class="hidden"></div>
                    
                    <form id="contactForm" class="contact-form">
                        <!-- Name -->
                        <div class="form-group">
                            <label for="name">
                                <i class="fas fa-user"></i> Full Name
                            </label>
                            <input type="text" id="name" name="name" required placeholder="Enter your full name">
                        </div>
                        
                        <!-- Email & Phone -->
                        <div class="form-row">
                            <div class="form-group">
                                <label for="email">
                                    <i class="fas fa-envelope"></i> Email Address
                                </label>
                                <input type="email" id="email" name="email" required placeholder="Enter your email">
                            </div>
                            <div class="form-group">
                                <label for="phone">
                                    <i class="fas fa-phone"></i> Phone Number
                                </label>
                                <input type="tel" id="phone" name="phone" placeholder="Optional">
                            </div>
                        </div>
                        
                        <!-- Age Range -->
                        <div class="form-group">
                            <label for="age">
                                <i class="fas fa-birthday-cake"></i> Age Range
                            </label>
                            <select id="age" name="age">
                                <option value="">Select age range</option>
                                <option value="Under 18">Under 18</option>
                                <option value="18-25">18-25</option>
                                <option value="26-35">26-35</option>
                                <option value="36-50">36-50</option>
                                <option value="51-65">51-65</option>
                                <option value="Over 65">Over 65</option>
                            </select>
                        </div>
                        
                        <!-- Subject -->
                        <div class="form-group">
                            <label for="subject">
                                <i class="fas fa-tag"></i> Subject
                            </label>
                            <select id="subject" name="subject" required>
                                <option value="">Select a topic</option>
                                <option value="General Inquiry">General Inquiry</option>
                                <option value="Appointment Booking">Appointment Booking</option>
                                <option value="Therapy/Counseling">Therapy/Counseling</option>
                                <option value="Group Sessions">Group Sessions</option>
                                <option value="Corporate Services">Corporate Services</option>
                                <option value="Emergency Support">Emergency Support</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                        
                        <!-- Preferred Contact Method -->
                        <div class="form-group">
                            <label><i class="fas fa-comments"></i> Preferred Contact Method</label>
                            <div class="contact-methods">
                                <label class="method-option">
                                    <input type="checkbox" name="contactMethod[]" value="Email" checked>
                                    <i class="fas fa-envelope"></i> Email
                                </label>
                                <label class="method-option">
                                    <input type="checkbox" name="contactMethod[]" value="Phone">
                                    <i class="fas fa-phone"></i> Phone
                                </label>
                                <label class="method-option">
                                    <input type="checkbox" name="contactMethod[]" value="WhatsApp">
                                    <i class="fab fa-whatsapp"></i> WhatsApp
                                </label>
                            </div>
                        </div>
                        
                        <!-- Message -->
                        <div class="form-group">
                            <label for="message">
                                <i class="fas fa-comment-dots"></i> Your Message
                            </label>
                            <textarea id="message" name="message" rows="5" required placeholder="How can we help you today? Share as much detail as you're comfortable with."></textarea>
                            <div class="char-count" style="text-align: right; color: #888; font-size: 0.9rem; margin-top: 5px;">
                                <span id="charCount">0</span>/500 characters
                            </div>
                        </div>
                        
                        <!-- Priority -->
                        <div class="form-group">
                            <label><i class="fas fa-flag"></i> Priority Level</label>
                            <div class="priority-selector">
                                <label class="priority-option">
                                    <input type="radio" name="priority" value="Low" checked>
                                    <span class="priority-dot low"></span> Low
                                </label>
                                <label class="priority-option">
                                    <input type="radio" name="priority" value="Medium">
                                    <span class="priority-dot medium"></span> Medium
                                </label>
                                <label class="priority-option">
                                    <input type="radio" name="priority" value="High">
                                    <span class="priority-dot high"></span> High
                                </label>
                                <label class="priority-option">
                                    <input type="radio" name="priority" value="Emergency">
                                    <span class="priority-dot emergency"></span> Emergency
                                </label>
                            </div>
                        </div>
                        
                        <!-- CAPTCHA -->
                        <div class="captcha-container">
                            <div class="captcha-question">
                                <span>What is</span>
                                <span id="captchaQuestion">5 + 3</span>
                                <span>?</span>
                            </div>
                            <input type="text" id="captchaAnswer" class="captcha-input" placeholder="Answer" maxlength="3">
                            <button type="button" class="btn-refresh" onclick="generateCaptcha()">
                                <i class="fas fa-redo"></i>
                            </button>
                        </div>
                        
                        <!-- Privacy -->
                        <div class="privacy-consent">
                            <input type="checkbox" id="privacy" name="privacy" required>
                            <label for="privacy">
                                I understand that this information will be kept confidential and secure according to our privacy policy.
                            </label>
                        </div>
                        
                        <!-- Submit -->
                        <div class="form-submit">
                            <button type="submit" class="btn-submit" id="submitBtn">
                                <i class="fas fa-paper-plane"></i>
                                <span class="btn-text">Send Message</span>
                                <span class="submit-loader"></span>
                            </button>
                            <p class="form-note">
                                <i class="fas fa-lock"></i> Your information is protected and encrypted
                            </p>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Status Indicators -->
            <div class="status-indicators">
                <div class="status-item online">
                    <i class="fas fa-circle"></i>
                    <div>
                        <span>Email System: <strong>Active</strong></span><br>
                        <small>Real-time monitoring</small>
                    </div>
                </div>
                <div class="status-item">
                    <i class="fas fa-check-circle"></i>
                    <div>
                        <span>Messages encrypted</span><br>
                        <small>End-to-end security</small>
                    </div>
                </div>
                <div class="status-item">
                    <i class="fas fa-shield-alt"></i>
                    <div>
                        <span>Privacy protected</span><br>
                        <small>HIPAA compliant</small>
                    </div>
                </div>
                <div class="status-item">
                    <i class="fas fa-user-md"></i>
                    <div>
                        <span>Licensed therapists</span><br>
                        <small>Professional care</small>
                    </div>
                </div>
            </div>
        </section>

        <!-- Video Conferencing Section -->
        <section id="video-call" class="video-call-section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">Video Counseling & Support Groups</h2>
                    <p class="section-subtitle">Connect with licensed therapists and join supportive communities through secure video calls.</p>
                </div>

                <!-- Video Call Main Container -->
                <div class="video-call-container">
                    <!-- Left Panel: User Info & Controls -->
                    <div class="left-panel">
                        <!-- User Profile -->
                        <div class="user-profile">
                            <div class="profile-avatar" id="userAvatar">
                                <i class="fas fa-user"></i>
                            </div>
                            <div class="profile-info">
                                <h3 id="userName">Guest User</h3>
                                <div class="user-status">
                                    <span class="status-indicator online"></span>
                                    <span>Online</span>
                                </div>
                                <div class="user-id">
                                    <small>ID: <span id="userId">GUEST-${Math.random().toString(36).substr(2, 6).toUpperCase()}</span></small>
                                </div>
                            </div>
                        </div>

                        <!-- Meeting Controls -->
                        <div class="meeting-controls">
                            <h4><i class="fas fa-video"></i> Meeting Controls</h4>
                            
                            <!-- Create/Join Meeting -->
                            <div class="control-group">
                                <div class="control-item">
                                    <button class="control-btn primary" id="createMeetingBtn">
                                        <i class="fas fa-plus-circle"></i>
                                        Create New Meeting
                                    </button>
                                    <p class="control-help">Start a private session</p>
                                </div>
                                
                                <div class="control-item">
                                    <div class="input-group">
                                        <input type="text" id="meetingCode" placeholder="Enter meeting code">
                                        <button class="control-btn secondary" id="joinMeetingBtn">
                                            <i class="fas fa-sign-in-alt"></i>
                                            Join
                                        </button>
                                    </div>
                                    <p class="control-help">Join existing meeting</p>
                                </div>
                            </div>

                            <!-- Device Settings -->
                            <div class="device-settings">
                                <h5><i class="fas fa-cog"></i> Device Settings</h5>
                                
                                <div class="setting-item">
                                    <label>
                                        <input type="checkbox" id="toggleVideo" checked>
                                        <span class="setting-label">
                                            <i class="fas fa-video"></i>
                                            Camera
                                        </span>
                                    </label>
                                    <select id="videoSource" class="device-select">
                                        <option value="">Select Camera</option>
                                    </select>
                                </div>
                                
                                <div class="setting-item">
                                    <label>
                                        <input type="checkbox" id="toggleAudio" checked>
                                        <span class="setting-label">
                                            <i class="fas fa-microphone"></i>
                                            Microphone
                                        </span>
                                    </label>
                                    <select id="audioSource" class="device-select">
                                        <option value="">Select Microphone</option>
                                    </select>
                                </div>
                                
                                <div class="setting-item">
                                    <label>
                                        <input type="checkbox" id="toggleSpeaker" checked>
                                        <span class="setting-label">
                                            <i class="fas fa-volume-up"></i>
                                            Speaker
                                        </span>
                                    </label>
                                    <select id="speakerSource" class="device-select">
                                        <option value="">Select Speaker</option>
                                    </select>
                                </div>
                            </div>

                            <!-- Quick Actions -->
                            <div class="quick-actions">
                                <h5><i class="fas fa-bolt"></i> Quick Actions</h5>
                                <div class="action-grid">
                                    <button class="action-btn" onclick="toggleScreenShare()">
                                        <i class="fas fa-desktop"></i>
                                        <span>Share Screen</span>
                                    </button>
                                    <button class="action-btn" onclick="toggleChat()">
                                        <i class="fas fa-comments"></i>
                                        <span>Chat</span>
                                    </button>
                                    <button class="action-btn" onclick="toggleParticipants()">
                                        <i class="fas fa-users"></i>
                                        <span>People</span>
                                    </button>
                                    <button class="action-btn" onclick="toggleRecording()">
                                        <i class="fas fa-record-vinyl"></i>
                                        <span>Record</span>
                                    </button>
                                </div>
                            </div>

                            <!-- Support Groups -->
                            <div class="support-groups">
                                <h5><i class="fas fa-users"></i> Active Support Groups</h5>
                                <div class="groups-list" id="activeGroups">
                                    <!-- Groups will be loaded here -->
                                </div>
                                <button class="btn-browse-groups" onclick="showGroupBrowser()">
                                    <i class="fas fa-search"></i>
                                    Browse All Groups
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Main Video Area -->
                    <div class="main-video-area">
                        <!-- Video Container -->
                        <div class="video-container">
                            <!-- Local Video -->
                            <div class="video-wrapper local-video" id="localVideoContainer">
                                <video id="localVideo" autoplay muted playsinline></video>
                                <div class="video-overlay">
                                    <div class="video-info">
                                        <span class="user-name">You</span>
                                        <div class="video-status">
                                            <i class="fas fa-microphone"></i>
                                            <i class="fas fa-video"></i>
                                        </div>
                                    </div>
                                    <div class="video-controls">
                                        <button class="video-control-btn" onclick="toggleVideo()">
                                            <i class="fas fa-video"></i>
                                        </button>
                                        <button class="video-control-btn" onclick="toggleAudio()">
                                            <i class="fas fa-microphone"></i>
                                        </button>
                                        <button class="video-control-btn danger" onclick="leaveMeeting()">
                                            <i class="fas fa-phone-slash"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <!-- Remote Videos Container -->
                            <div class="remote-videos" id="remoteVideos">
                                <!-- Remote videos will be added here -->
                            </div>

                            <!-- No Meeting View -->
                            <div class="no-meeting-view" id="noMeetingView">
                                <div class="empty-state">
                                    <i class="fas fa-video"></i>
                                    <h3>Start or Join a Meeting</h3>
                                    <p>Create a new private session or join an existing support group</p>
                                    <div class="empty-actions">
                                        <button class="btn-primary-video" onclick="createMeeting()">
                                            <i class="fas fa-plus-circle"></i>
                                            Create Meeting
                                        </button>
                                        <button class="btn-secondary-video" onclick="showJoinModal()">
                                            <i class="fas fa-sign-in-alt"></i>
                                            Join Meeting
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Bottom Control Bar -->
                        <div class="control-bar" id="controlBar">
                            <div class="control-left">
                                <button class="control-bar-btn" onclick="toggleVideo()" id="videoToggleBtn">
                                    <i class="fas fa-video"></i>
                                </button>
                                <button class="control-bar-btn" onclick="toggleAudio()" id="audioToggleBtn">
                                    <i class="fas fa-microphone"></i>
                                </button>
                                <button class="control-bar-btn" onclick="toggleScreenShare()" id="screenShareBtn">
                                    <i class="fas fa-desktop"></i>
                                </button>
                            </div>
                            
                            <div class="control-center">
                                <button class="control-bar-btn primary" id="startMeetingBtn">
                                    <i class="fas fa-play"></i>
                                    Start Meeting
                                </button>
                                <button class="control-bar-btn danger" id="endMeetingBtn" style="display: none;">
                                    <i class="fas fa-phone-slash"></i>
                                    End Call
                                </button>
                            </div>
                            
                            <div class="control-right">
                                <button class="control-bar-btn" onclick="toggleChat()" id="chatToggleBtn">
                                    <i class="fas fa-comments"></i>
                                    <span class="badge" id="chatBadge">0</span>
                                </button>
                                <button class="control-bar-btn" onclick="toggleParticipants()" id="participantsBtn">
                                    <i class="fas fa-users"></i>
                                    <span class="badge" id="participantsCount">0</span>
                                </button>
                                <button class="control-bar-btn" onclick="showSettings()">
                                    <i class="fas fa-cog"></i>
                                </button>
                            </div>
                        </div>

                        <!-- Chat Panel -->
                        <div class="chat-panel" id="chatPanel">
                            <div class="chat-header">
                                <h4><i class="fas fa-comments"></i> Chat</h4>
                                <button class="chat-close" onclick="toggleChat()">&times;</button>
                            </div>
                            <div class="chat-messages" id="chatMessages">
                                <!-- Messages will appear here -->
                            </div>
                            <div class="chat-input">
                                <input type="text" id="videoChatInput" placeholder="Type your message...">
                                <button onclick="sendVideoChatMessage()">
                                    <i class="fas fa-paper-plane"></i>
                                </button>
                            </div>
                        </div>

                        <!-- Participants Panel -->
                        <div class="participants-panel" id="participantsPanel">
                            <div class="participants-header">
                                <h4><i class="fas fa-users"></i> Participants (<span id="participantsListCount">0</span>)</h4>
                                <button class="participants-close" onclick="toggleParticipants()">&times;</button>
                            </div>
                            <div class="participants-list" id="participantsList">
                                <!-- Participants will appear here -->
                            </div>
                            <div class="participants-actions">
                                <button class="btn-mute-all" onclick="muteAll()">
                                    <i class="fas fa-microphone-slash"></i>
                                    Mute All
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Support Groups Gallery -->
                <div class="groups-gallery">
                    <h3>Featured Support Groups</h3>
                    <p class="section-subtitle">Join community groups for shared experiences and mutual support</p>
                    
                    <div class="groups-grid">
                        <div class="group-card" data-group="anxiety">
                            <div class="group-icon">
                                <i class="fas fa-brain"></i>
                            </div>
                            <div class="group-info">
                                <h4>Anxiety & Stress Management</h4>
                                <p>Coping strategies and mindfulness techniques</p>
                                <div class="group-meta">
                                    <span><i class="fas fa-users"></i> 12 online</span>
                                    <span><i class="fas fa-clock"></i> Daily 7-9 PM</span>
                                </div>
                            </div>
                            <button class="btn-join-group" onclick="joinSupportGroup('anxiety')">
                                Join Now
                            </button>
                        </div>

                        <div class="group-card" data-group="depression">
                            <div class="group-icon">
                                <i class="fas fa-cloud"></i>
                            </div>
                            <div class="group-info">
                                <h4>Depression Support</h4>
                                <p>Peer support and professional guidance</p>
                                <div class="group-meta">
                                    <span><i class="fas fa-users"></i> 8 online</span>
                                    <span><i class="fas fa-clock"></i> Mon/Wed/Fri 6-8 PM</span>
                                </div>
                            </div>
                            <button class="btn-join-group" onclick="joinSupportGroup('depression')">
                                Join Now
                            </button>
                        </div>

                        <div class="group-card" data-group="addiction">
                            <div class="group-icon">
                                <i class="fas fa-hand-holding-heart"></i>
                            </div>
                            <div class="group-info">
                                <h4>Addiction Recovery</h4>
                                <p>12-step and alternative recovery support</p>
                                <div class="group-meta">
                                    <span><i class="fas fa-users"></i> 15 online</span>
                                    <span><i class="fas fa-clock"></i> 24/7 Support</span>
                                </div>
                            </div>
                            <button class="btn-join-group" onclick="joinSupportGroup('addiction')">
                                Join Now
                            </button>
                        </div>

                        <div class="group-card" data-group="youth">
                            <div class="group-icon">
                                <i class="fas fa-child"></i>
                            </div>
                            <div class="group-info">
                                <h4>Youth Support (13-25)</h4>
                                <p>Age-appropriate counseling and peer support</p>
                                <div class="group-meta">
                                    <span><i class="fas fa-users"></i> 20 online</span>
                                    <span><i class="fas fa-clock"></i> Weekdays 4-8 PM</span>
                                </div>
                            </div>
                            <button class="btn-join-group" onclick="joinSupportGroup('youth')">
                                Join Now
                            </button>
                        </div>

                        <div class="group-card" data-group="parents">
                            <div class="group-icon">
                                <i class="fas fa-user-friends"></i>
                            </div>
                            <div class="group-info">
                                <h4>Parents & Caregivers</h4>
                                <p>Support for those caring for others</p>
                                <div class="group-meta">
                                    <span><i class="fas fa-users"></i> 10 online</span>
                                    <span><i class="fas fa-clock"></i> Tue/Thu 8-10 PM</span>
                                </div>
                            </div>
                            <button class="btn-join-group" onclick="joinSupportGroup('parents')">
                                Join Now
                            </button>
                        </div>

                        <div class="group-card" data-group="trauma">
                            <div class="group-icon">
                                <i class="fas fa-heartbeat"></i>
                            </div>
                            <div class="group-info">
                                <h4>Trauma Healing</h4>
                                <p>Safe space for trauma survivors</p>
                                <div class="group-meta">
                                    <span><i class="fas fa-users"></i> 6 online</span>
                                    <span><i class="fas fa-clock"></i> By Appointment</span>
                                </div>
                            </div>
                            <button class="btn-join-group" onclick="joinSupportGroup('trauma')">
                                Join Now
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Safety & Privacy Notice -->
                <div class="safety-notice">
                    <div class="notice-header">
                        <i class="fas fa-shield-alt"></i>
                        <h3>Your Safety & Privacy Matters</h3>
                    </div>
                    <div class="notice-content">
                        <div class="notice-item">
                            <i class="fas fa-lock"></i>
                            <div>
                                <h4>End-to-End Encryption</h4>
                                <p>All video calls are encrypted for your privacy</p>
                            </div>
                        </div>
                        <div class="notice-item">
                            <i class="fas fa-user-shield"></i>
                            <div>
                                <h4>Moderated Sessions</h4>
                                <p>Trained moderators ensure safe and supportive environment</p>
                            </div>
                        </div>
                        <div class="notice-item">
                            <i class="fas fa-ban"></i>
                            <div>
                                <h4>Zero Tolerance Policy</h4>
                                <p>Abusive behavior will result in immediate removal</p>
                            </div>
                        </div>
                        <div class="notice-item">
                            <i class="fas fa-volume-mute"></i>
                            <div>
                                <h4>User Controls</h4>
                                <p>You can mute/remove participants if needed</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Meeting Scheduling -->
                <div class="meeting-scheduling">
                    <h3>Schedule Professional Counseling</h3>
                    <p class="section-subtitle">Book one-on-one sessions with licensed therapists</p>
                    
                    <div class="schedule-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label><i class="fas fa-calendar"></i> Select Date</label>
                                <input type="date" id="sessionDate" min="<?php echo date('Y-m-d'); ?>">
                            </div>
                            <div class="form-group">
                                <label><i class="fas fa-clock"></i> Select Time</label>
                                <select id="sessionTime">
                                    <option value="">Choose time</option>
                                    <option value="09:00">9:00 AM</option>
                                    <option value="10:00">10:00 AM</option>
                                    <option value="11:00">11:00 AM</option>
                                    <option value="14:00">2:00 PM</option>
                                    <option value="15:00">3:00 PM</option>
                                    <option value="16:00">4:00 PM</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label><i class="fas fa-user-md"></i> Therapist</label>
                                <select id="therapistSelect">
                                    <option value="">Select therapist</option>
                                    <option value="dr_john">Dr. John Kimani - Clinical Psychologist</option>
                                    <option value="dr_mary">Dr. Mary Wanjiru - Trauma Specialist</option>
                                    <option value="mr_peter">Peter Otieno - Licensed Counselor</option>
                                    <option value="ms_grace">Grace Akinyi - Youth Counselor</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label><i class="fas fa-sticky-note"></i> Notes (Optional)</label>
                            <textarea id="sessionNotes" placeholder="Any specific concerns or topics you'd like to discuss..." rows="3"></textarea>
                        </div>
                        <button class="btn-schedule" onclick="scheduleSession()">
                            <i class="fas fa-calendar-check"></i>
                            Schedule Session
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Crisis Support -->
        <section id="crisis" class="crisis-support">
            <div class="crisis-header">
                <i class="fas fa-first-aid"></i>
                <h3>Immediate Crisis Support</h3>
            </div>
            <div class="crisis-buttons">
                <button class="crisis-btn" onclick="window.open('tel:0800720720')">
                    <i class="fas fa-phone-volume"></i>
                    <span>Crisis Hotline</span>
                    <small>0800 720 720</small>
                </button>
                <button class="crisis-btn" onclick="window.open('https://wa.me/254759226354', '_blank')">
                    <i class="fab fa-whatsapp"></i>
                    <span>WhatsApp Support</span>
                    <small>Instant chat</small>
                </button>
                <button class="crisis-btn" onclick="showSelfHelpTools()">
                    <i class="fas fa-hands-helping"></i>
                    <span>Self-Help Tools</span>
                    <small>Immediate relief</small>
                </button>
                <button class="crisis-btn" onclick="window.open('https://www.mentalhealth.gov/get-help/immediate-help', '_blank')">
                    <i class="fas fa-globe"></i>
                    <span>Global Resources</span>
                    <small>Worldwide support</small>
                </button>
            </div>
        </section>

        <!-- FAQ Section -->
        <section id="faq" class="faq-section">
            <div class="section-header">
                <h2 class="section-title">Frequently Asked Questions</h2>
                <p class="section-subtitle">Find answers to common questions about our services and support.</p>
            </div>
            
            <div class="faq-container">
                <div class="faq-item">
                    <button class="faq-question">
                        How quickly will I get a response?
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="faq-answer">
                        <p>We aim to respond to all inquiries within 24 hours. For emergencies, please call our support line or use the WhatsApp chat for immediate assistance. Video sessions can typically be scheduled within 48 hours.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <button class="faq-question">
                        Is my information confidential?
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="faq-answer">
                        <p>Yes, all information shared with us is strictly confidential and protected under professional ethical guidelines and privacy laws. Our video sessions use end-to-end encryption, and all communications are secured.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <button class="faq-question">
                        What are your consultation fees?
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="faq-answer">
                        <p>We offer a sliding scale fee structure based on income to ensure mental health support is accessible to everyone. Contact us for specific pricing or to discuss financial assistance options. Initial consultations are often free.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <button class="faq-question">
                        Do you offer online sessions?
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="faq-answer">
                        <p>Yes, we offer both in-person and virtual consultations via our secure video platform. You can choose the format that works best for you - many clients find online sessions just as effective and more convenient.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <button class="faq-question">
                        Do you accept insurance?
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="faq-answer">
                        <p>We work with most major insurance providers. Please contact us with your insurance details and we'll verify your coverage. We also offer direct billing options for your convenience.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Testimonials -->
        <section id="testimonials" class="testimonials-section">
            <div class="section-header">
                <h2 class="section-title">What Our Clients Say</h2>
                <p class="section-subtitle">Real stories from people who found support and healing through our services.</p>
            </div>
            
            <div class="testimonials-grid">
                <div class="testimonial-card">
                    <div class="testimonial-content">
                        "The support I received was life-changing. The team was compassionate and professional throughout my journey. The video sessions made it so accessible."
                    </div>
                    <div class="testimonial-author">
                        <strong>Sarah M.</strong>
                        <span>Nairobi</span>
                    </div>
                </div>
                
                <div class="testimonial-card">
                    <div class="testimonial-content">
                        "Online sessions made therapy accessible for me while living remotely. The counselors are excellent and very understanding. The platform is easy to use."
                    </div>
                    <div class="testimonial-author">
                        <strong>James K.</strong>
                        <span>Mombasa</span>
                    </div>
                </div>
                
                <div class="testimonial-card">
                    <div class="testimonial-content">
                        "Emergency support saved me during a difficult time. Immediate response and genuine care. I'm grateful for this service being available 24/7."
                    </div>
                    <div class="testimonial-author">
                        <strong>Grace W.</strong>
                        <span>Kisumu</span>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- AI Chat Widget -->
    <div class="chat-widget" id="chatWidget">
        <button class="chat-toggle" id="chatToggle">
            <i class="fas fa-comments"></i>
            <span>AI Support Chat</span>
            <span class="chat-badge" id="chatBadge">Live</span>
        </button>
        <div class="chat-window" id="chatWindow">
            <div class="chat-header">
                <h4><i class="fas fa-robot"></i> Mental Health Assistant</h4>
                <button class="chat-close">&times;</button>
            </div>
            <div class="chat-body" id="chatBody">
                <div class="chat-message bot">
                    <div class="message-content">
                        Hello! I'm here to provide mental health support and information. I can help with resources, coping strategies, or just listen. How can I assist you today?
                    </div>
                    <div class="message-time">Just now</div>
                </div>
            </div>
            <div class="chat-input">
                <input type="text" id="aiChatInput" placeholder="Type your message...">
                <button id="sendAiChat">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>MentalWell</h4>
                    <p>Providing compassionate mental health support and resources for individuals and communities across Kenya.</p>
                    <div class="mt-20">
                        <i class="fas fa-map-marker-alt"></i> Kahawa Wendani, Thika Road, Nairobi
                    </div>
                </div>
                
                <div class="footer-section">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="#home" style="color: white; text-decoration: none;">Home</a></li>
                        <li><a href="#contact" style="color: white; text-decoration: none;">Contact</a></li>
                        <li><a href="#video-call" style="color: white; text-decoration: none;">Video Sessions</a></li>
                        <li><a href="#faq" style="color: white; text-decoration: none;">FAQ</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>Emergency Contacts</h4>
                    <ul>
                        <li>Nairobi Women's Hospital: 0800 720 720</li>
                        <li>Emergency Services: 999 or 112</li>
                        <li>Befrienders Kenya: 0722 178 178</li>
                        <li>Our Direct Line: +254 759 226354</li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2026 MentalWell. All rights reserved. | <a href="#" style="color: #6c63ff; text-decoration: none;">Privacy Policy</a> | <a href="#" style="color: #6c63ff; text-decoration: none;">Terms of Service</a></p>
            </div>
        </div>
    </footer>

    <!-- Video Conferencing Modals -->
    <div class="modal" id="joinModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-sign-in-alt"></i> Join Meeting</h3>
                <button class="modal-close" onclick="closeModal('joinModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>Meeting Code</label>
                    <input type="text" id="joinMeetingCode" placeholder="Enter 6-digit code" maxlength="6">
                </div>
                <div class="form-group">
                    <label>Your Name</label>
                    <input type="text" id="joinUserName" placeholder="Enter your name">
                </div>
                <div class="form-group">
                    <label><input type="checkbox" id="joinWithVideo" checked> Join with video</label>
                    <label><input type="checkbox" id="joinWithAudio" checked> Join with audio</label>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeModal('joinModal')">Cancel</button>
                <button class="btn-primary" onclick="joinMeetingWithCode()">Join Meeting</button>
            </div>
        </div>
    </div>

    <div class="modal" id="createModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-plus-circle"></i> Create New Meeting</h3>
                <button class="modal-close" onclick="closeModal('createModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>Meeting Title</label>
                    <input type="text" id="meetingTitle" placeholder="e.g., Private Counseling Session">
                </div>
                <div class="form-group">
                    <label>Meeting Type</label>
                    <select id="meetingType">
                        <option value="private">Private (Invite Only)</option>
                        <option value="public">Public Support Group</option>
                        <option value="professional">Professional Counseling</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Security Settings</label>
                    <label><input type="checkbox" id="requirePassword" checked> Require password</label>
                    <div id="passwordField" style="margin-top: 10px;">
                        <input type="text" id="meetingPassword" placeholder="Set password (optional)">
                    </div>
                    <label><input type="checkbox" id="allowRecording"> Allow recording</label>
                    <label><input type="checkbox" id="moderatorControl" checked> Moderator controls enabled</label>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeModal('createModal')">Cancel</button>
                <button class="btn-primary" onclick="createNewMeeting()">Create Meeting</button>
            </div>
        </div>
    </div>

    <div class="modal" id="settingsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-cog"></i> Settings</h3>
                <button class="modal-close" onclick="closeModal('settingsModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="settings-tabs">
                    <button class="tab-btn active" onclick="openTab(event, 'videoTab')">Video</button>
                    <button class="tab-btn" onclick="openTab(event, 'audioTab')">Audio</button>
                    <button class="tab-btn" onclick="openTab(event, 'privacyTab')">Privacy</button>
                </div>
                
                <div id="videoTab" class="tab-content active">
                    <div class="form-group">
                        <label>Camera</label>
                        <select id="settingsVideoSource"></select>
                    </div>
                    <div class="form-group">
                        <label>Video Quality</label>
                        <select id="videoQuality">
                            <option value="low">Low (240p)</option>
                            <option value="medium" selected>Medium (480p)</option>
                            <option value="high">High (720p)</option>
                            <option value="hd">HD (1080p)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label><input type="checkbox" id="mirrorVideo" checked> Mirror my video</label>
                    </div>
                </div>
                
                <div id="audioTab" class="tab-content">
                    <div class="form-group">
                        <label>Microphone</label>
                        <select id="settingsAudioSource"></select>
                    </div>
                    <div class="form-group">
                        <label>Speaker</label>
                        <select id="settingsSpeakerSource"></select>
                    </div>
                    <div class="form-group">
                        <label><input type="checkbox" id="noiseSuppression" checked> Noise suppression</label>
                        <label><input type="checkbox" id="echoCancellation" checked> Echo cancellation</label>
                    </div>
                </div>
                
                <div id="privacyTab" class="tab-content">
                    <div class="form-group">
                        <label><input type="checkbox" id="autoJoinAudio" checked> Auto-join audio</label>
                        <label><input type="checkbox" id="autoJoinVideo"> Auto-start video</label>
                    </div>
                    <div class="form-group">
                        <label><input type="checkbox" id="showPreview" checked> Show preview before joining</label>
                    </div>
                    <div class="form-group">
                        <label><input type="checkbox" id="recordConsent"> Ask before recording</label>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-primary" onclick="saveSettings()">Save Settings</button>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        // ============================================
        // CONFIGURATION - SET THESE IN RENDER ENVIRONMENT
        // ============================================
        const CONFIG = {
            EMAILJS: {
                PUBLIC_KEY: "", // Set in Render: EMAILJS_PUBLIC_KEY
                SERVICE_ID: "", // Set in Render: EMAILJS_SERVICE_ID
                TEMPLATE_ID: "", // Set in Render: EMAILJS_TEMPLATE_ID
            },
            API_ENDPOINTS: {
                CHAT: '/api/chat', // Your server endpoint for Cohere AI
                CONTACT: '/api/contact' // Your server endpoint for contact form
            }
        };
        // ============================================

        document.addEventListener('DOMContentLoaded', function() {
            // Initialize components
            initEmailJS();
            initEventListeners();
            generateCaptcha();
            initMobileMenu();
            initFAQ();
            initCharacterCounter();
            
            // Initialize video conference system
            initVideoConference();
            
            // Check if it's first visit for chat
            if (!localStorage.getItem('chatWelcomed')) {
                setTimeout(() => {
                    showNotification(' Need someone to talk to? Our AI assistant is here to listen and help.', 'info');
                    localStorage.setItem('chatWelcomed', 'true');
                }, 3000);
            }
        });

        // Initialize EmailJS
        function initEmailJS() {
            if (CONFIG.EMAILJS.PUBLIC_KEY) {
                try {
                    emailjs.init(CONFIG.EMAILJS.PUBLIC_KEY);
                    console.log(" EmailJS initialized successfully");
                } catch (error) {
                    console.error(" EmailJS initialization failed:", error);
                }
            }
        }

        // Video Conferencing System
        class VideoConference {
            constructor() {
                this.localStream = null;
                this.peerConnections = {};
                this.dataChannels = {};
                this.currentMeeting = null;
                this.userName = 'Guest User';
                this.userId = this.generateUserId();
                this.settings = this.loadSettings();
                this.chatMessages = [];
                this.participants = {};
                this.isRecording = false;
                this.isScreenSharing = false;
                
                this.initialize();
            }

            initialize() {
                this.setupEventListeners();
                this.loadDevices();
                this.updateUserInfo();
                this.loadActiveGroups();
                this.checkPermissions();
            }

            generateUserId() {
                return `GUEST-${Math.random().toString(36).substr(2, 6).toUpperCase()}`;
            }

            loadSettings() {
                const defaultSettings = {
                    video: true,
                    audio: true,
                    videoSource: '',
                    audioSource: '',
                    speakerSource: '',
                    videoQuality: 'medium',
                    mirrorVideo: true,
                    noiseSuppression: true,
                    echoCancellation: true,
                    autoJoinAudio: true,
                    autoJoinVideo: false,
                    showPreview: true
                };

                try {
                    const saved = localStorage.getItem('videoSettings');
                    return saved ? {...defaultSettings, ...JSON.parse(saved)} : defaultSettings;
                } catch {
                    return defaultSettings;
                }
            }

            saveSettings() {
                localStorage.setItem('videoSettings', JSON.stringify(this.settings));
            }

            setupEventListeners() {
                // Meeting controls
                document.getElementById('createMeetingBtn')?.addEventListener('click', () => this.showCreateModal());
                document.getElementById('joinMeetingBtn')?.addEventListener('click', () => this.showJoinModal());
                document.getElementById('startMeetingBtn')?.addEventListener('click', () => this.startMeeting());
                document.getElementById('endMeetingBtn')?.addEventListener('click', () => this.leaveMeeting());

                // Device controls
                const toggleVideo = document.getElementById('toggleVideo');
                const toggleAudio = document.getElementById('toggleAudio');
                const toggleSpeaker = document.getElementById('toggleSpeaker');
                
                if (toggleVideo) toggleVideo.addEventListener('change', (e) => this.toggleVideo(e.target.checked));
                if (toggleAudio) toggleAudio.addEventListener('change', (e) => this.toggleAudio(e.target.checked));
                if (toggleSpeaker) toggleSpeaker.addEventListener('change', (e) => this.toggleSpeaker(e.target.checked));

                // Chat
                document.getElementById('videoChatInput')?.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') this.sendVideoChatMessage();
                });

                // Settings
                document.getElementById('videoSource')?.addEventListener('change', (e) => this.changeVideoSource(e.target.value));
                document.getElementById('audioSource')?.addEventListener('change', (e) => this.changeAudioSource(e.target.value));
                document.getElementById('speakerSource')?.addEventListener('change', (e) => this.changeSpeakerSource(e.target.value));
            }

            async loadDevices() {
                try {
                    const devices = await navigator.mediaDevices.enumerateDevices();
                    this.updateDeviceSelects(devices);
                } catch (error) {
                    console.error('Error loading devices:', error);
                }
            }

            updateDeviceSelects(devices) {
                const videoSelect = document.getElementById('videoSource');
                const audioSelect = document.getElementById('audioSource');
                const speakerSelect = document.getElementById('speakerSource');

                // Clear options
                if (videoSelect) videoSelect.innerHTML = '<option value="">Select Camera</option>';
                if (audioSelect) audioSelect.innerHTML = '<option value="">Select Microphone</option>';
                if (speakerSelect) speakerSelect.innerHTML = '<option value="">Select Speaker</option>';

                devices.forEach(device => {
                    const option = document.createElement('option');
                    option.value = device.deviceId;
                    option.text = device.label || `${device.kind} (${device.deviceId.slice(0, 5)}...)`;

                    if (device.kind === 'videoinput' && videoSelect) {
                        videoSelect.appendChild(option.cloneNode(true));
                    } else if (device.kind === 'audioinput' && audioSelect) {
                        audioSelect.appendChild(option.cloneNode(true));
                    } else if (device.kind === 'audiooutput' && speakerSelect) {
                        speakerSelect.appendChild(option.cloneNode(true));
                    }
                });
            }

            async checkPermissions() {
                try {
                    await navigator.mediaDevices.getUserMedia({ video: true, audio: true });
                    console.log('Camera and microphone permissions granted');
                } catch (error) {
                    console.warn('Permissions not granted:', error);
                    this.showNotification('Camera and microphone access is required for video calls', 'warning');
                }
            }

            updateUserInfo() {
                const savedName = localStorage.getItem('userName');
                if (savedName) {
                    this.userName = savedName;
                    const userNameElement = document.getElementById('userName');
                    if (userNameElement) userNameElement.textContent = this.userName;
                }
                const userIdElement = document.getElementById('userId');
                if (userIdElement) userIdElement.textContent = this.userId;
            }

            async loadActiveGroups() {
                // Simulated active groups data
                const groups = [
                    { id: 'anxiety', name: 'Anxiety Support', online: 12, therapist: 'Dr. Jane' },
                    { id: 'depression', name: 'Depression Group', online: 8, therapist: 'Dr. Mark' },
                    { id: 'youth', name: 'Youth Support', online: 20, therapist: 'Ms. Sarah' }
                ];

                const groupsList = document.getElementById('activeGroups');
                if (!groupsList) return;
                
                groupsList.innerHTML = groups.map(group => `
                    <div class="group-item" onclick="videoConference.joinSupportGroup('${group.id}')">
                        <div class="group-info">
                            <h6>${group.name}</h6>
                            <small>Moderated by ${group.therapist}</small>
                        </div>
                        <div class="group-count">${group.online}</div>
                    </div>
                `).join('');
            }

            showNotification(message, type = 'info') {
                showNotification(message, type);
            }

            async showCreateModal() {
                document.getElementById('createModal').classList.add('active');
            }

            async showJoinModal() {
                document.getElementById('joinModal').classList.add('active');
            }

            closeModal(modalId) {
                document.getElementById(modalId).classList.remove('active');
            }

            async createNewMeeting() {
                const title = document.getElementById('meetingTitle').value || 'Private Session';
                const type = document.getElementById('meetingType').value;
                const requirePassword = document.getElementById('requirePassword').checked;
                const password = document.getElementById('meetingPassword').value;
                
                this.currentMeeting = {
                    id: this.generateMeetingId(),
                    title: title,
                    type: type,
                    password: requirePassword ? password : null,
                    host: this.userId,
                    participants: {},
                    createdAt: new Date().toISOString()
                };

                this.closeModal('createModal');
                await this.startLocalStream();
                this.showMeetingView();
                this.addParticipant(this.userId, this.userName, 'host');
                
                // Show meeting info
                this.showNotification(`Meeting created! Code: ${this.currentMeeting.id}`, 'success');
                
                // Copy meeting code to clipboard
                navigator.clipboard.writeText(this.currentMeeting.id);
                
                // Update UI
                document.getElementById('startMeetingBtn').style.display = 'none';
                document.getElementById('endMeetingBtn').style.display = 'block';
            }

            generateMeetingId() {
                return Math.random().toString(36).substr(2, 6).toUpperCase();
            }

            async joinMeetingWithCode() {
                const code = document.getElementById('joinMeetingCode').value.toUpperCase();
                const userName = document.getElementById('joinUserName').value || 'Guest';
                
                if (!code || code.length !== 6) {
                    this.showNotification('Please enter a valid 6-digit meeting code', 'warning');
                    return;
                }
                
                this.userName = userName;
                localStorage.setItem('userName', userName);
                this.updateUserInfo();
                
                // Simulate joining meeting
                this.currentMeeting = {
                    id: code,
                    title: 'Support Group Session',
                    host: 'HOST-ABC123',
                    participants: {}
                };
                
                this.closeModal('joinModal');
                await this.startLocalStream();
                this.showMeetingView();
                this.addParticipant(this.userId, this.userName, 'participant');
                
                // Simulate adding other participants
                setTimeout(() => {
                    this.addParticipant('HOST-ABC123', 'Dr. Therapist', 'host');
                    this.addParticipant('PART-123456', 'Support Member', 'participant');
                }, 1000);
                
                document.getElementById('startMeetingBtn').style.display = 'none';
                document.getElementById('endMeetingBtn').style.display = 'block';
            }

            async joinSupportGroup(groupId) {
                const groups = {
                    anxiety: { name: 'Anxiety Support Group', code: 'ANXGRP' },
                    depression: { name: 'Depression Support Group', code: 'DEPGRP' },
                    addiction: { name: 'Recovery Support Group', code: 'RECGRP' },
                    youth: { name: 'Youth Support Group', code: 'YTHGRP' },
                    parents: { name: 'Parents Support Group', code: 'PARGRP' },
                    trauma: { name: 'Trauma Healing Group', code: 'TRMGRP' }
                };
                
                const group = groups[groupId];
                if (!group) return;
                
                document.getElementById('joinMeetingCode').value = group.code;
                document.getElementById('joinUserName').value = this.userName;
                this.showJoinModal();
            }

            async startLocalStream() {
                try {
                    const constraints = {
                        video: {
                            width: { ideal: 1280 },
                            height: { ideal: 720 },
                            deviceId: this.settings.videoSource ? { exact: this.settings.videoSource } : undefined
                        },
                        audio: {
                            deviceId: this.settings.audioSource ? { exact: this.settings.audioSource } : undefined,
                            echoCancellation: this.settings.echoCancellation,
                            noiseSuppression: this.settings.noiseSuppression
                        }
                    };

                    this.localStream = await navigator.mediaDevices.getUserMedia(constraints);
                    
                    // Display local video
                    const localVideo = document.getElementById('localVideo');
                    if (localVideo) {
                        localVideo.srcObject = this.localStream;
                        
                        // Apply mirror effect if enabled
                        if (this.settings.mirrorVideo) {
                            localVideo.style.transform = 'scaleX(-1)';
                        }
                    }
                    
                    this.showNotification('Camera and microphone activated', 'success');
                    
                } catch (error) {
                    console.error('Error accessing media devices:', error);
                    this.showNotification('Could not access camera or microphone', 'error');
                }
            }

            showMeetingView() {
                document.getElementById('noMeetingView').style.display = 'none';
                document.getElementById('localVideoContainer').style.display = 'block';
                document.getElementById('controlBar').style.display = 'flex';
            }

            addParticipant(id, name, role) {
                this.participants[id] = { id, name, role, video: true, audio: true };
                this.updateParticipantsList();
                
                if (id !== this.userId) {
                    this.addRemoteVideo(id, name, role);
                }
            }

            removeParticipant(id) {
                delete this.participants[id];
                this.removeRemoteVideo(id);
                this.updateParticipantsList();
            }

            updateParticipantsList() {
                const participantsList = document.getElementById('participantsList');
                const count = Object.keys(this.participants).length;
                
                const participantsCount = document.getElementById('participantsCount');
                const participantsListCount = document.getElementById('participantsListCount');
                
                if (participantsCount) participantsCount.textContent = count;
                if (participantsListCount) participantsListCount.textContent = count;
                
                if (!participantsList) return;
                
                participantsList.innerHTML = Object.values(this.participants).map(participant => `
                    <div class="participant-item">
                        <div class="participant-avatar">
                            <i class="fas fa-user"></i>
                        </div>
                        <div class="participant-info">
                            <div class="participant-name">${participant.name}</div>
                            <div class="participant-role">${participant.role === 'host' ? 'Host' : 'Participant'}</div>
                        </div>
                        <div class="participant-controls">
                            <button class="participant-control-btn" onclick="videoConference.toggleParticipantAudio('${participant.id}')">
                                <i class="fas fa-microphone${participant.audio ? '' : '-slash'}"></i>
                            </button>
                            <button class="participant-control-btn" onclick="videoConference.removeParticipant('${participant.id}')">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </div>
                `).join('');
            }

            addRemoteVideo(id, name, role) {
                const remoteVideos = document.getElementById('remoteVideos');
                if (!remoteVideos) return;
                
                const videoWrapper = document.createElement('div');
                videoWrapper.className = 'remote-video-wrapper';
                videoWrapper.id = `remote-video-${id}`;
                
                videoWrapper.innerHTML = `
                    <video id="video-${id}" autoplay playsinline></video>
                    <div class="video-overlay">
                        <div class="video-info">
                            <span class="user-name">${name}</span>
                            <div class="video-status">
                                <i class="fas fa-microphone"></i>
                                <i class="fas fa-video"></i>
                            </div>
                        </div>
                    </div>
                `;
                
                remoteVideos.appendChild(videoWrapper);
                
                // Simulate video stream (in real app, this would be actual peer connection)
                setTimeout(() => {
                    const videoElement = document.getElementById(`video-${id}`);
                    // In a real app, you would set videoElement.srcObject to the remote stream
                }, 500);
            }

            removeRemoteVideo(id) {
                const videoElement = document.getElementById(`remote-video-${id}`);
                if (videoElement) {
                    videoElement.remove();
                }
            }

            toggleParticipantAudio(participantId) {
                const participant = this.participants[participantId];
                if (participant) {
                    participant.audio = !participant.audio;
                    this.updateParticipantsList();
                    this.showNotification(`${participant.name} ${participant.audio ? 'unmuted' : 'muted'}`);
                }
            }

            async toggleVideo(enabled = null) {
                if (!this.localStream) return;
                
                const videoTrack = this.localStream.getVideoTracks()[0];
                if (videoTrack) {
                    const newState = enabled !== null ? enabled : !videoTrack.enabled;
                    videoTrack.enabled = newState;
                    
                    const btn = document.getElementById('videoToggleBtn');
                    if (btn) {
                        btn.innerHTML = newState ? '<i class="fas fa-video"></i>' : '<i class="fas fa-video-slash"></i>';
                        btn.style.background = newState ? '#f0f2ff' : '#ff6b6b';
                        btn.style.color = newState ? '#6c63ff' : 'white';
                    }
                    
                    this.showNotification(`Camera ${newState ? 'enabled' : 'disabled'}`);
                }
            }

            async toggleAudio(enabled = null) {
                if (!this.localStream) return;
                
                const audioTrack = this.localStream.getAudioTracks()[0];
                if (audioTrack) {
                    const newState = enabled !== null ? enabled : !audioTrack.enabled;
                    audioTrack.enabled = newState;
                    
                    const btn = document.getElementById('audioToggleBtn');
                    if (btn) {
                        btn.innerHTML = newState ? '<i class="fas fa-microphone"></i>' : '<i class="fas fa-microphone-slash"></i>';
                        btn.style.background = newState ? '#f0f2ff' : '#ff6b6b';
                        btn.style.color = newState ? '#6c63ff' : 'white';
                    }
                    
                    this.showNotification(`Microphone ${newState ? 'enabled' : 'disabled'}`);
                }
            }

            async toggleScreenShare() {
                if (!this.isScreenSharing) {
                    try {
                        const screenStream = await navigator.mediaDevices.getDisplayMedia({
                            video: true,
                            audio: true
                        });
                        
                        const videoTrack = screenStream.getVideoTracks()[0];
                        const localVideo = document.getElementById('localVideo');
                        
                        // Replace video track
                        const sender = this.localStream.getVideoTracks()[0];
                        this.localStream.removeTrack(sender);
                        this.localStream.addTrack(videoTrack);
                        if (localVideo) localVideo.srcObject = this.localStream;
                        
                        this.isScreenSharing = true;
                        const screenShareBtn = document.getElementById('screenShareBtn');
                        if (screenShareBtn) {
                            screenShareBtn.style.background = '#4CAF50';
                            screenShareBtn.style.color = 'white';
                        }
                        
                        videoTrack.onended = () => this.toggleScreenShare();
                        
                        this.showNotification('Screen sharing started');
                        
                    } catch (error) {
                        console.error('Error sharing screen:', error);
                        this.showNotification('Could not share screen', 'error');
                    }
                } else {
                    // Stop screen sharing
                    const screenTrack = this.localStream.getVideoTracks().find(track => track.kind === 'video');
                    if (screenTrack) {
                        screenTrack.stop();
                        this.startLocalStream(); // Restart camera
                    }
                    
                    this.isScreenSharing = false;
                    const screenShareBtn = document.getElementById('screenShareBtn');
                    if (screenShareBtn) {
                        screenShareBtn.style.background = '#f0f2ff';
                        screenShareBtn.style.color = '#6c63ff';
                    }
                    
                    this.showNotification('Screen sharing stopped');
                }
            }

            toggleChat() {
                const chatPanel = document.getElementById('chatPanel');
                if (chatPanel) chatPanel.classList.toggle('active');
            }

            toggleParticipants() {
                const participantsPanel = document.getElementById('participantsPanel');
                if (participantsPanel) participantsPanel.classList.toggle('active');
            }

            async toggleRecording() {
                if (!this.isRecording) {
                    // Start recording
                    try {
                        const stream = this.localStream;
                        this.mediaRecorder = new MediaRecorder(stream);
                        const chunks = [];
                        
                        this.mediaRecorder.ondataavailable = (e) => chunks.push(e.data);
                        this.mediaRecorder.onstop = () => {
                            const blob = new Blob(chunks, { type: 'video/webm' });
                            const url = URL.createObjectURL(blob);
                            const a = document.createElement('a');
                            a.href = url;
                            a.download = `meeting-recording-${new Date().toISOString()}.webm`;
                            a.click();
                        };
                        
                        this.mediaRecorder.start();
                        this.isRecording = true;
                        
                        this.showNotification('Recording started', 'success');
                        
                    } catch (error) {
                        console.error('Error starting recording:', error);
                        this.showNotification('Could not start recording', 'error');
                    }
                } else {
                    // Stop recording
                    if (this.mediaRecorder) {
                        this.mediaRecorder.stop();
                        this.isRecording = false;
                        this.showNotification('Recording saved', 'success');
                    }
                }
            }

            sendVideoChatMessage() {
                const input = document.getElementById('videoChatInput');
                if (!input) return;
                
                const message = input.value.trim();
                if (!message) return;
                
                const chatMessages = document.getElementById('chatMessages');
                if (!chatMessages) return;
                
                const messageDiv = document.createElement('div');
                messageDiv.className = 'chat-message sent';
                messageDiv.innerHTML = `
                    <div class="message-content">${message}</div>
                    <div class="message-time">${new Date().toLocaleTimeString()}</div>
                `;
                
                chatMessages.appendChild(messageDiv);
                chatMessages.scrollTop = chatMessages.scrollHeight;
                
                // Simulate response
                setTimeout(() => {
                    this.receiveVideoChatMessage('Support Bot', 'Thank you for your message. How can I help you?');
                }, 1000);
                
                input.value = '';
                this.updateVideoChatBadge();
            }

            receiveVideoChatMessage(sender, message) {
                const chatMessages = document.getElementById('chatMessages');
                if (!chatMessages) return;
                
                const messageDiv = document.createElement('div');
                messageDiv.className = 'chat-message received';
                messageDiv.innerHTML = `
                    <div class="message-sender">${sender}</div>
                    <div class="message-content">${message}</div>
                    <div class="message-time">${new Date().toLocaleTimeString()}</div>
                `;
                
                chatMessages.appendChild(messageDiv);
                chatMessages.scrollTop = chatMessages.scrollHeight;
                this.updateVideoChatBadge();
            }

            updateVideoChatBadge() {
                const badge = document.getElementById('chatBadge');
                if (badge) {
                    const currentCount = parseInt(badge.textContent) || 0;
                    badge.textContent = currentCount + 1;
                }
            }

            muteAll() {
                Object.keys(this.participants).forEach(id => {
                    if (id !== this.userId) {
                        this.toggleParticipantAudio(id);
                    }
                });
                this.showNotification('All participants muted');
            }

            async leaveMeeting() {
                // Stop all tracks
                if (this.localStream) {
                    this.localStream.getTracks().forEach(track => track.stop());
                }
                
                // Clear remote videos
                const remoteVideos = document.getElementById('remoteVideos');
                if (remoteVideos) remoteVideos.innerHTML = '';
                
                // Reset meeting state
                this.currentMeeting = null;
                this.participants = {};
                
                // Update UI
                const noMeetingView = document.getElementById('noMeetingView');
                const localVideoContainer = document.getElementById('localVideoContainer');
                const controlBar = document.getElementById('controlBar');
                const startMeetingBtn = document.getElementById('startMeetingBtn');
                const endMeetingBtn = document.getElementById('endMeetingBtn');
                
                if (noMeetingView) noMeetingView.style.display = 'flex';
                if (localVideoContainer) localVideoContainer.style.display = 'none';
                if (controlBar) controlBar.style.display = 'none';
                if (startMeetingBtn) startMeetingBtn.style.display = 'block';
                if (endMeetingBtn) endMeetingBtn.style.display = 'none';
                
                this.showNotification('You have left the meeting');
            }

            startMeeting() {
                this.showCreateModal();
            }

            showSettings() {
                document.getElementById('settingsModal').classList.add('active');
            }

            saveSettings() {
                const videoQuality = document.getElementById('videoQuality');
                const mirrorVideo = document.getElementById('mirrorVideo');
                const noiseSuppression = document.getElementById('noiseSuppression');
                const echoCancellation = document.getElementById('echoCancellation');
                const autoJoinAudio = document.getElementById('autoJoinAudio');
                const autoJoinVideo = document.getElementById('autoJoinVideo');
                const showPreview = document.getElementById('showPreview');
                
                if (videoQuality) this.settings.videoQuality = videoQuality.value;
                if (mirrorVideo) this.settings.mirrorVideo = mirrorVideo.checked;
                if (noiseSuppression) this.settings.noiseSuppression = noiseSuppression.checked;
                if (echoCancellation) this.settings.echoCancellation = echoCancellation.checked;
                if (autoJoinAudio) this.settings.autoJoinAudio = autoJoinAudio.checked;
                if (autoJoinVideo) this.settings.autoJoinVideo = autoJoinVideo.checked;
                if (showPreview) this.settings.showPreview = showPreview.checked;
                
                this.saveSettings();
                this.closeModal('settingsModal');
                this.showNotification('Settings saved successfully', 'success');
            }

            openTab(event, tabName) {
                // Hide all tab contents
                document.querySelectorAll('.tab-content').forEach(tab => {
                    tab.classList.remove('active');
                });
                
                // Remove active class from all tab buttons
                document.querySelectorAll('.tab-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                
                // Show the current tab
                const tabContent = document.getElementById(tabName);
                if (tabContent) tabContent.classList.add('active');
                if (event && event.currentTarget) event.currentTarget.classList.add('active');
            }

            changeVideoSource(deviceId) {
                this.settings.videoSource = deviceId;
                this.saveSettings();
                if (this.localStream) {
                    this.startLocalStream();
                }
            }

            changeAudioSource(deviceId) {
                this.settings.audioSource = deviceId;
                this.saveSettings();
                if (this.localStream) {
                    this.startLocalStream();
                }
            }

            changeSpeakerSource(deviceId) {
                this.settings.speakerSource = deviceId;
                this.saveSettings();
            }

            toggleSpeaker(enabled) {
                // Speaker control logic would go here
                this.showNotification(`Speaker ${enabled ? 'enabled' : 'disabled'}`);
            }

            async scheduleSession() {
                const date = document.getElementById('sessionDate')?.value;
                const time = document.getElementById('sessionTime')?.value;
                const therapist = document.getElementById('therapistSelect')?.value;
                const notes = document.getElementById('sessionNotes')?.value;
                
                if (!date || !time || !therapist) {
                    this.showNotification('Please fill in all required fields', 'warning');
                    return;
                }
                
                // Simulate scheduling
                this.showNotification('Session scheduled successfully! You will receive a confirmation email.', 'success');
                
                // Clear form
                const sessionDate = document.getElementById('sessionDate');
                const sessionTime = document.getElementById('sessionTime');
                const therapistSelect = document.getElementById('therapistSelect');
                const sessionNotes = document.getElementById('sessionNotes');
                
                if (sessionDate) sessionDate.value = '';
                if (sessionTime) sessionTime.value = '';
                if (therapistSelect) therapistSelect.value = '';
                if (sessionNotes) sessionNotes.value = '';
            }
        }

        // Initialize video conference system
        let videoConference;

        function initVideoConference() {
            videoConference = new VideoConference();
        }

        // Global functions for onclick handlers
        window.videoConference = videoConference;
        window.createMeeting = () => videoConference?.showCreateModal();
        window.showJoinModal = () => videoConference?.showJoinModal();
        window.toggleVideo = () => videoConference?.toggleVideo();
        window.toggleAudio = () => videoConference?.toggleAudio();
        window.toggleScreenShare = () => videoConference?.toggleScreenShare();
        window.toggleChat = () => videoConference?.toggleChat();
        window.toggleParticipants = () => videoConference?.toggleParticipants();
        window.toggleRecording = () => videoConference?.toggleRecording();
        window.leaveMeeting = () => videoConference?.leaveMeeting();
        window.showSettings = () => videoConference?.showSettings();
        window.saveSettings = () => videoConference?.saveSettings();
        window.openTab = (event, tabName) => videoConference?.openTab(event, tabName);
        window.closeModal = (modalId) => videoConference?.closeModal(modalId);
        window.joinSupportGroup = (groupId) => videoConference?.joinSupportGroup(groupId);
        window.showGroupBrowser = () => showNotification('Group browser coming soon!', 'info');
        window.joinMeetingWithCode = () => videoConference?.joinMeetingWithCode();
        window.createNewMeeting = () => videoConference?.createNewMeeting();
        window.muteAll = () => videoConference?.muteAll();
        window.sendVideoChatMessage = () => videoConference?.sendVideoChatMessage();
        window.scheduleSession = () => videoConference?.scheduleSession();
        window.toggleParticipantAudio = (id) => videoConference?.toggleParticipantAudio(id);
        window.removeParticipant = (id) => videoConference?.removeParticipant(id);

        // Event Listeners
        function initEventListeners() {
            // Contact form submission
            const contactForm = document.getElementById('contactForm');
            if (contactForm) {
                contactForm.addEventListener('submit', handleFormSubmit);
            }

            // AI Chat functionality
            const chatToggle = document.getElementById('chatToggle');
            const chatWindow = document.getElementById('chatWindow');
            const chatClose = document.querySelector('.chat-close');
            const sendAiChat = document.getElementById('sendAiChat');
            const aiChatInput = document.getElementById('aiChatInput');

            if (chatToggle && chatWindow) {
                chatToggle.addEventListener('click', () => {
                    chatWindow.classList.toggle('active');
                });

                if (chatClose) {
                    chatClose.addEventListener('click', () => {
                        chatWindow.classList.remove('active');
                    });
                }

                if (sendAiChat && aiChatInput) {
                    sendAiChat.addEventListener('click', sendAiChatMessage);
                    aiChatInput.addEventListener('keypress', (e) => {
                        if (e.key === 'Enter') sendAiChatMessage();
                    });
                }
            }

            // Smooth scrolling
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    if (targetId === '#') return;
                    
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        window.scrollTo({
                            top: targetElement.offsetTop - 80,
                            behavior: 'smooth'
                        });
                        
                        // Close mobile menu if open
                        document.querySelector('.nav-links')?.classList.remove('active');
                    }
                });
            });
        }

        // Mobile menu
        function initMobileMenu() {
            const menuBtn = document.querySelector('.mobile-menu-btn');
            const navLinks = document.querySelector('.nav-links');
            
            if (menuBtn && navLinks) {
                menuBtn.addEventListener('click', () => {
                    navLinks.classList.toggle('active');
                });
                
                // Close menu when clicking outside
                document.addEventListener('click', (e) => {
                    if (!menuBtn.contains(e.target) && !navLinks.contains(e.target)) {
                        navLinks.classList.remove('active');
                    }
                });
            }
        }

        // FAQ accordion
        function initFAQ() {
            const faqQuestions = document.querySelectorAll('.faq-question');
            
            faqQuestions.forEach(question => {
                question.addEventListener('click', () => {
                    const faqItem = question.parentElement;
                    const isActive = faqItem.classList.contains('active');
                    
                    // Close all other items
                    document.querySelectorAll('.faq-item').forEach(item => {
                        item.classList.remove('active');
                    });
                    
                    // Toggle current item
                    if (!isActive) {
                        faqItem.classList.add('active');
                    }
                });
            });
        }

        // Character counter
        function initCharacterCounter() {
            const messageTextarea = document.getElementById('message');
            const charCount = document.getElementById('charCount');
            
            if (messageTextarea && charCount) {
                messageTextarea.addEventListener('input', function() {
                    const length = this.value.length;
                    charCount.textContent = length;
                    
                    if (length > 500) {
                        charCount.style.color = '#f44336';
                    } else if (length > 400) {
                        charCount.style.color = '#FF9800';
                    } else {
                        charCount.style.color = '#888';
                    }
                });
            }
        }

        // CAPTCHA generation
        function generateCaptcha() {
            const operations = ['+', '-', '*'];
            const num1 = Math.floor(Math.random() * 10) + 1;
            const num2 = Math.floor(Math.random() * 10) + 1;
            const operation = operations[Math.floor(Math.random() * operations.length)];
            
            let answer;
            switch(operation) {
                case '+': answer = num1 + num2; break;
                case '-': answer = num1 - num2; break;
                case '*': answer = num1 * num2; break;
            }
            
            // Store answer in session
            sessionStorage.setItem('captchaAnswer', answer);
            
            // Update display
            const questionElement = document.getElementById('captchaQuestion');
            if (questionElement) {
                questionElement.textContent = `${num1} ${operation} ${num2}`;
            }
            
            // Clear input
            const answerInput = document.getElementById('captchaAnswer');
            if (answerInput) {
                answerInput.value = '';
            }
        }

        // Form submission
        async function handleFormSubmit(e) {
            e.preventDefault();
            
            const submitBtn = document.getElementById('submitBtn');
            const btnText = submitBtn.querySelector('.btn-text');
            const loader = submitBtn.querySelector('.submit-loader');
            
            // Validate CAPTCHA
            const userAnswer = document.getElementById('captchaAnswer')?.value.trim();
            const correctAnswer = sessionStorage.getItem('captchaAnswer');
            
            if (!userAnswer || parseInt(userAnswer) !== parseInt(correctAnswer)) {
                showNotification('Please solve the CAPTCHA correctly', 'error');
                generateCaptcha();
                return;
            }
            
            // Show loading state
            submitBtn.disabled = true;
            btnText.textContent = 'Sending...';
            loader.style.display = 'inline-block';
            
            try {
                // Collect form data
                const formData = {
                    from_name: document.getElementById('name').value.trim(),
                    from_email: document.getElementById('email').value.trim(),
                    phone: document.getElementById('phone').value.trim() || 'Not provided',
                    age: document.getElementById('age').value || 'Not specified',
                    subject: document.getElementById('subject').value,
                    message: document.getElementById('message').value.trim(),
                    priority: document.querySelector('input[name="priority"]:checked')?.value || 'Medium',
                    contact_method: Array.from(document.querySelectorAll('input[name="contactMethod[]"]:checked'))
                        .map(cb => cb.value).join(', ') || 'Email',
                    timestamp: new Date().toLocaleString('en-US', {
                        weekday: 'long',
                        year: 'numeric',
                        month: 'long',
                        day: 'numeric',
                        hour: '2-digit',
                        minute: '2-digit'
                    })
                };
                
                // Method 1: Try EmailJS first
                let emailSent = false;
                if (CONFIG.EMAILJS.PUBLIC_KEY && CONFIG.EMAILJS.SERVICE_ID && CONFIG.EMAILJS.TEMPLATE_ID) {
                    try {
                        await emailjs.send(
                            CONFIG.EMAILJS.SERVICE_ID,
                            CONFIG.EMAILJS.TEMPLATE_ID,
                            formData
                        );
                        emailSent = true;
                    } catch (emailError) {
                        console.warn('EmailJS failed, trying server endpoint:', emailError);
                    }
                }
                
                // Method 2: Try server endpoint
                if (!emailSent && CONFIG.API_ENDPOINTS.CONTACT) {
                    try {
                        const response = await fetch(CONFIG.API_ENDPOINTS.CONTACT, {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                            },
                            body: JSON.stringify(formData)
                        });
                        
                        if (!response.ok) {
                            throw new Error('Server response not OK');
                        }
                        
                        emailSent = true;
                    } catch (serverError) {
                        console.warn('Server endpoint failed:', serverError);
                    }
                }
                
                if (emailSent) {
                    // Success
                    showNotification(' Message sent successfully! We\'ll respond within 24 hours.', 'success');
                    
                    // Reset form
                    document.getElementById('contactForm').reset();
                    document.getElementById('charCount').textContent = '0';
                    generateCaptcha();
                    
                    // Save to localStorage history
                    saveToMessageHistory(formData);
                    
                } else {
                    // Fallback: Save locally
                    saveToMessageHistory(formData);
                    showNotification(' Message saved. We\'ll send it when you\'re back online.', 'warning');
                }
                
            } catch (error) {
                console.error('Form submission error:', error);
                showNotification(' Error sending message. Please try again.', 'error');
                
            } finally {
                // Reset button state
                submitBtn.disabled = false;
                btnText.textContent = 'Send Message';
                loader.style.display = 'none';
            }
        }

        // AI Chat functionality
        async function sendAiChatMessage() {
            const input = document.getElementById('aiChatInput');
            const message = input.value.trim();
            const chatBody = document.getElementById('chatBody');
            
            if (!message) return;
            
            // Add user message
            addAiChatMessage(message, 'user');
            input.value = '';
            
            // Show typing indicator
            const typingIndicator = addAiChatMessage('Thinking...', 'bot', true);
            
            try {
                // Try Cohere API via server endpoint
                const response = await fetch(CONFIG.API_ENDPOINTS.CHAT, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        message: message,
                        chatHistory: getAiChatHistory()
                    })
                });
                
                // Remove typing indicator
                typingIndicator.remove();
                
                if (response.ok) {
                    const data = await response.json();
                    addAiChatMessage(data.response || 'I\'m here to help.', 'bot');
                    saveAiChatMessage(message, data.response || '');
                } else {
                    throw new Error('Server error');
                }
                
            } catch (error) {
                console.error('Chat error:', error);
                typingIndicator.remove();
                
                // Fallback responses
                const fallbackResponses = [
                    "I'm here to listen. Could you tell me more about what you're experiencing?",
                    "Thank you for sharing. Remember, professional help is available when you need it.",
                    "I understand this is difficult. Have you considered speaking with a mental health professional?",
                    "Your feelings are valid. It's important to reach out for support when needed."
                ];
                
                const randomResponse = fallbackResponses[Math.floor(Math.random() * fallbackResponses.length)];
                addAiChatMessage(randomResponse, 'bot');
                saveAiChatMessage(message, randomResponse);
            }
        }

        function addAiChatMessage(text, sender, isTyping = false) {
            const chatBody = document.getElementById('chatBody');
            const messageDiv = document.createElement('div');
            
            messageDiv.className = `chat-message ${sender}`;
            messageDiv.innerHTML = `
                <div class="message-content">${escapeHtml(text)}</div>
                ${!isTyping ? `<div class="message-time">${new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</div>` : ''}
            `;
            
            chatBody.appendChild(messageDiv);
            chatBody.scrollTop = chatBody.scrollHeight;
            
            return messageDiv;
        }

        function getAiChatHistory() {
            try {
                return JSON.parse(localStorage.getItem('aiChatHistory') || '[]');
            } catch {
                return [];
            }
        }

        function saveAiChatMessage(userMessage, botResponse) {
            try {
                const history = getAiChatHistory();
                history.push({
                    user: userMessage,
                    bot: botResponse,
                    timestamp: new Date().toISOString()
                });
                
                // Keep only last 50 messages
                if (history.length > 50) {
                    history.splice(0, history.length - 50);
                }
                
                localStorage.setItem('aiChatHistory', JSON.stringify(history));
            } catch (error) {
                console.error('Error saving chat history:', error);
            }
        }

        function showSelfHelpTools() {
            const tools = [
                " Try deep breathing: Inhale for 4 seconds, hold for 7, exhale for 8",
                " Journal your thoughts and feelings",
                " Take a short walk outside",
                " Listen to calming music",
                " Call a trusted friend or family member"
            ];
            
            const randomTool = tools[Math.floor(Math.random() * tools.length)];
            showNotification(` Self-help tip: ${randomTool}`, 'info');
        }

        // Save message history
        function saveToMessageHistory(formData) {
            try {
                const history = JSON.parse(localStorage.getItem('contactHistory') || '[]');
                history.unshift({
                    ...formData,
                    id: Date.now(),
                    date: new Date().toISOString()
                });
                
                // Keep only last 20 messages
                if (history.length > 20) {
                    history.pop();
                }
                
                localStorage.setItem('contactHistory', JSON.stringify(history));
            } catch (error) {
                console.error('Error saving to history:', error);
            }
        }

        // Notification system
        function showNotification(message, type = 'info') {
            // Remove existing notifications
            document.querySelectorAll('.notification').forEach(n => n.remove());
            
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.innerHTML = `
                <i class="fas ${getNotificationIcon(type)}"></i>
                <span>${message}</span>
                <button class="notification-close">&times;</button>
            `;
            
            document.body.appendChild(notification);
            
            // Close button
            notification.querySelector('.notification-close').addEventListener('click', () => {
                notification.remove();
            });
            
            // Auto-remove after 5 seconds
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.style.opacity = '0';
                    notification.style.transform = 'translateY(-20px)';
                    setTimeout(() => notification.remove(), 300);
                }
            }, 5000);
        }

        function getNotificationIcon(type) {
            switch(type) {
                case 'success': return 'fa-check-circle';
                case 'error': return 'fa-exclamation-circle';
                case 'warning': return 'fa-exclamation-triangle';
                default: return 'fa-info-circle';
            }
        }

        // Utility functions
        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        // Add keyboard shortcuts for video conferencing
        document.addEventListener('keydown', (e) => {
            if (!videoConference) return;
            
            // Ctrl/Cmd + D: Toggle video
            if ((e.ctrlKey || e.metaKey) && e.key === 'd') {
                e.preventDefault();
                videoConference.toggleVideo();
            }
            
            // Ctrl/Cmd + E: Toggle audio
            if ((e.ctrlKey || e.metaKey) && e.key === 'e') {
                e.preventDefault();
                videoConference.toggleAudio();
            }
            
            // Ctrl/Cmd + S: Toggle screen share
            if ((e.ctrlKey || e.metaKey) && e.key === 's') {
                e.preventDefault();
                videoConference.toggleScreenShare();
            }
            
            // Ctrl/Cmd + L: Leave meeting
            if ((e.ctrlKey || e.metaKey) && e.key === 'l') {
                e.preventDefault();
                videoConference.leaveMeeting();
            }
        });
    </script>
</body>
</html>
