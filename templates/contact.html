<!-- Contact Section -->
<section id="contact" class="contact-section">
    <!-- Background Pattern -->
    <div class="contact-pattern"></div>
    
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">Get in Touch</h2>
            <p class="section-subtitle">Reach out to us for support, questions, or to schedule a consultation. We're here to help you on your wellness journey.</p>
        </div>
        
        <div class="contact-wrapper">
            <!-- Contact Information -->
            <div class="contact-info">
                <div class="contact-card">
                    <div class="contact-icon">
                        <i class="fas fa-headset"></i>
                    </div>
                    <h3>Contact Information</h3>
                    <p>We're here to listen and support you every step of the way.</p>
                    
                    <div class="contact-details">
                        <div class="contact-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <div>
                                <h4>Our Location</h4>
                                <p>Kahawa Wendani, Thika Road<br>Nairobi, Kenya</p>
                            </div>
                        </div>
                        
                        <div class="contact-item">
                            <i class="fas fa-phone"></i>
                            <div>
                                <h4>Phone Number</h4>
                                <p><a href="tel:+254759226354">+254 759 226354</a></p>
                                <small>Available 24/7 for emergencies</small>
                            </div>
                        </div>
                        
                        <div class="contact-item">
                            <i class="fas fa-envelope"></i>
                            <div>
                                <h4>Email Address</h4>
                                <p><a href="mailto:elijahokware@gmail.com">elijahokware@gmail.com</a></p>
                                <small>Response within 24 hours</small>
                            </div>
                        </div>
                        
                        <div class="contact-item">
                            <i class="fab fa-whatsapp"></i>
                            <div>
                                <h4>WhatsApp Support</h4>
                                <p><a href="https://wa.me/254759226354" target="_blank">+254 759 226354</a></p>
                                <small>Instant chat support</small>
                            </div>
                        </div>
                    </div>
                    
                    <div class="emergency-contact">
                        <h4><i class="fas fa-exclamation-triangle"></i> Emergency Contacts</h4>
                        <p>If you're in crisis, contact:</p>
                        <ul>
                            <li><strong>Nairobi Women's Hospital Crisis Line:</strong> 0800 720 720</li>
                            <li><strong>Kenya Red Cross:</strong> 1199</li>
                            <li><strong>Emergency Police:</strong> 999 or 112</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <!-- Contact Form -->
            <div class="contact-form-wrapper">
                <div class="contact-form-card">
                    <h3>Send Us a Message</h3>
                    <p>Fill out the form below and we'll get back to you as soon as possible.</p>
                    
                    <form id="contactForm" action="send_email.php" method="POST" class="contact-form">
                        <div class="form-group">
                            <label for="name">
                                <i class="fas fa-user"></i> Full Name
                            </label>
                            <input type="text" id="name" name="name" required 
                                   placeholder="Enter your full name">
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="email">
                                    <i class="fas fa-envelope"></i> Email Address
                                </label>
                                <input type="email" id="email" name="email" required 
                                       placeholder="Enter your email">
                            </div>
                            
                            <div class="form-group">
                                <label for="phone">
                                    <i class="fas fa-phone"></i> Phone Number
                                </label>
                                <input type="tel" id="phone" name="phone" 
                                       placeholder="Optional">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="subject">
                                <i class="fas fa-tag"></i> Subject
                            </label>
                            <select id="subject" name="subject" required>
                                <option value="">Select a topic</option>
                                <option value="General Inquiry">General Inquiry</option>
                                <option value="Appointment Booking">Appointment Booking</option>
                                <option value="Therapy/Counseling">Therapy/Counseling</option>
                                <option value="Group Sessions">Group Sessions</option>
                                <option value="Corporate Services">Corporate Services</option>
                                <option value="Emergency Support">Emergency Support</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="message">
                                <i class="fas fa-comment-dots"></i> Your Message
                            </label>
                            <textarea id="message" name="message" rows="5" required 
                                      placeholder="How can we help you today?"></textarea>
                            <div class="char-count">
                                <span id="charCount">0</span>/500 characters
                            </div>
                        </div>
                        
                        <!-- Privacy Consent -->
                        <div class="privacy-consent">
                            <input type="checkbox" id="privacy" name="privacy" required>
                            <label for="privacy">
                                I understand that this information will be kept confidential and secure according to our privacy policy.
                            </label>
                        </div>
                        
                        <div class="form-submit">
                            <button type="submit" class="btn-submit">
                                <i class="fas fa-paper-plane"></i>
                                Send Message
                                <span class="submit-loader"></span>
                            </button>
                            <p class="form-note">
                                <i class="fas fa-lock"></i> Your information is protected and encrypted
                            </p>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        
        <!-- Mental Health Resources -->
        <div class="resources-section">
            <h3>Mental Health Resources</h3>
            <div class="resources-grid">
                <div class="resource-card">
                    <div class="resource-icon">
                        <i class="fas fa-heart"></i>
                    </div>
                    <h4>Coping Strategies</h4>
                    <p>Learn healthy ways to manage stress, anxiety, and depression.</p>
                    <a href="#resources" class="resource-link">Explore Strategies</a>
                </div>
                
                <div class="resource-card">
                    <div class="resource-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <h4>Support Groups</h4>
                    <p>Join our community for shared experiences and mutual support.</p>
                    <a href="#community" class="resource-link">Join Community</a>
                </div>
                
                <div class="resource-card">
                    <div class="resource-icon">
                        <i class="fas fa-book"></i>
                    </div>
                    <h4>Self-Help Guides</h4>
                    <p>Access free resources and guides for mental wellness.</p>
                    <a href="#resources" class="resource-link">Download Guides</a>
                </div>
                
                <div class="resource-card">
                    <div class="resource-icon">
                        <i class="fas fa-mobile-alt"></i>
                    </div>
                    <h4>Crisis App</h4>
                    <p>Download our mobile app for immediate support tools.</p>
                    <a href="#app" class="resource-link">Get the App</a>
                </div>
            </div>
        </div>
        
        <!-- FAQ Section -->
        <div class="faq-section">
            <h3>Frequently Asked Questions</h3>
            <div class="faq-container">
                <div class="faq-item">
                    <button class="faq-question">
                        How quickly will I get a response?
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="faq-answer">
                        <p>We aim to respond to all inquiries within 24 hours. For emergencies, please call our support line or use the WhatsApp chat for immediate assistance.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <button class="faq-question">
                        Is my information confidential?
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="faq-answer">
                        <p>Yes, all information shared with us is strictly confidential and protected under professional ethical guidelines and privacy laws.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <button class="faq-question">
                        What are your consultation fees?
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="faq-answer">
                        <p>We offer a sliding scale fee structure based on income. Contact us for specific pricing or to discuss financial assistance options.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <button class="faq-question">
                        Do you offer online sessions?
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="faq-answer">
                        <p>Yes, we offer both in-person and virtual consultations via secure video platforms to accommodate your needs and preferences.</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Map Section -->
        <div class="map-section">
            <h3>Our Location</h3>
            <div class="map-container">
                <div class="map-placeholder">
                    <i class="fas fa-map-marked-alt"></i>
                    <p>Kahawa Wendani, Thika Road, Nairobi</p>
                    <a href="https://maps.google.com/?q=Kahawa+Wendani+Thika+Road+Nairobi" target="_blank" class="btn-map">
                        <i class="fas fa-directions"></i> Get Directions
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

<style>
    /* Contact Section */
    .contact-section {
        padding: 100px 0;
        background: linear-gradient(135deg, #f8f9ff 0%, #f0f2ff 100%);
        position: relative;
        overflow: hidden;
    }
    
    .contact-pattern {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image: 
            radial-gradient(circle at 10% 20%, rgba(108, 99, 255, 0.05) 0%, transparent 20%),
            radial-gradient(circle at 90% 80%, rgba(54, 209, 220, 0.05) 0%, transparent 20%);
        z-index: 0;
    }
    
    .section-header {
        text-align: center;
        margin-bottom: 60px;
        position: relative;
        z-index: 1;
    }
    
    .section-title {
        font-size: 3rem;
        color: #1a237e;
        margin-bottom: 15px;
        background: linear-gradient(135deg, #1a237e 0%, #3949ab 100%);
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
    }
    
    .section-subtitle {
        font-size: 1.2rem;
        color: #5a5a72;
        max-width: 600px;
        margin: 0 auto;
        line-height: 1.6;
    }
    
    /* Contact Wrapper */
    .contact-wrapper {
        display: grid;
        grid-template-columns: 1fr 1.2fr;
        gap: 40px;
        margin-bottom: 80px;
        position: relative;
        z-index: 1;
    }
    
    @media (max-width: 992px) {
        .contact-wrapper {
            grid-template-columns: 1fr;
        }
    }
    
    /* Contact Info */
    .contact-info .contact-card {
        background: white;
        border-radius: 25px;
        padding: 40px;
        box-shadow: 0 20px 50px rgba(108, 99, 255, 0.1);
        height: 100%;
        border: 1px solid rgba(108, 99, 255, 0.1);
    }
    
    .contact-icon {
        font-size: 3rem;
        background: linear-gradient(135deg, #6c63ff, #36d1dc);
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
        margin-bottom: 20px;
    }
    
    .contact-card h3 {
        color: #1a237e;
        font-size: 1.8rem;
        margin-bottom: 10px;
    }
    
    .contact-card > p {
        color: #666;
        margin-bottom: 30px;
    }
    
    .contact-details {
        margin-bottom: 40px;
    }
    
    .contact-item {
        display: flex;
        gap: 15px;
        margin-bottom: 25px;
        align-items: flex-start;
    }
    
    .contact-item i {
        color: #6c63ff;
        font-size: 1.2rem;
        margin-top: 5px;
        min-width: 20px;
    }
    
    .contact-item h4 {
        color: #333;
        font-size: 1rem;
        margin-bottom: 5px;
    }
    
    .contact-item p {
        color: #555;
        margin-bottom: 5px;
    }
    
    .contact-item a {
        color: #6c63ff;
        text-decoration: none;
        transition: color 0.3s;
    }
    
    .contact-item a:hover {
        color: #4a43d4;
    }
    
    .contact-item small {
        color: #888;
        font-size: 0.85rem;
    }
    
    .emergency-contact {
        background: #fff5f5;
        border-left: 4px solid #ff6b6b;
        padding: 20px;
        border-radius: 10px;
        margin-top: 30px;
    }
    
    .emergency-contact h4 {
        color: #d32f2f;
        margin-bottom: 10px;
        display: flex;
        align-items: center;
        gap: 10px;
    }
    
    .emergency-contact p {
        color: #666;
        margin-bottom: 10px;
    }
    
    .emergency-contact ul {
        list-style: none;
        padding-left: 0;
    }
    
    .emergency-contact li {
        color: #555;
        margin-bottom: 8px;
        font-size: 0.9rem;
    }
    
    /* Contact Form */
    .contact-form-wrapper .contact-form-card {
        background: white;
        border-radius: 25px;
        padding: 40px;
        box-shadow: 0 20px 50px rgba(108, 99, 255, 0.1);
        border: 1px solid rgba(108, 99, 255, 0.1);
    }
    
    .contact-form-card h3 {
        color: #1a237e;
        font-size: 1.8rem;
        margin-bottom: 10px;
    }
    
    .contact-form-card > p {
        color: #666;
        margin-bottom: 30px;
    }
    
    .contact-form {
        display: flex;
        flex-direction: column;
        gap: 25px;
    }
    
    .form-row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
    }
    
    @media (max-width: 576px) {
        .form-row {
            grid-template-columns: 1fr;
        }
    }
    
    .form-group {
        position: relative;
    }
    
    .form-group label {
        display: flex;
        align-items: center;
        gap: 8px;
        color: #555;
        font-weight: 500;
        margin-bottom: 8px;
        font-size: 0.95rem;
    }
    
    .form-group label i {
        color: #6c63ff;
    }
    
    .form-group input,
    .form-group select,
    .form-group textarea {
        width: 100%;
        padding: 15px;
        border: 2px solid #e0e0e0;
        border-radius: 12px;
        font-size: 1rem;
        transition: all 0.3s;
        background: white;
    }
    
    .form-group input:focus,
    .form-group select:focus,
    .form-group textarea:focus {
        outline: none;
        border-color: #6c63ff;
        box-shadow: 0 0 0 3px rgba(108, 99, 255, 0.1);
    }
    
    .form-group input:hover,
    .form-group select:hover,
    .form-group textarea:hover {
        border-color: #b3b3b3;
    }
    
    .char-count {
        text-align: right;
        font-size: 0.85rem;
        color: #888;
        margin-top: 5px;
    }
    
    /* Privacy Consent */
    .privacy-consent {
        display: flex;
        gap: 10px;
        align-items: flex-start;
        margin: 20px 0;
    }
    
    .privacy-consent input[type="checkbox"] {
        width: 18px;
        height: 18px;
        margin-top: 3px;
        accent-color: #6c63ff;
    }
    
    .privacy-consent label {
        color: #555;
        font-size: 0.9rem;
        line-height: 1.5;
        cursor: pointer;
    }
    
    /* Submit Button */
    .form-submit {
        text-align: center;
    }
    
    .btn-submit {
        background: linear-gradient(135deg, #6c63ff 0%, #36d1dc 100%);
        color: white;
        border: none;
        padding: 18px 40px;
        border-radius: 50px;
        font-size: 1.1rem;
        font-weight: 600;
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        gap: 10px;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
    }
    
    .btn-submit:hover {
        transform: translateY(-3px);
        box-shadow: 0 15px 30px rgba(108, 99, 255, 0.3);
    }
    
    .btn-submit:active {
        transform: translateY(-1px);
    }
    
    .submit-loader {
        display: none;
        width: 20px;
        height: 20px;
        border: 3px solid rgba(255, 255, 255, 0.3);
        border-top-color: white;
        border-radius: 50%;
        animation: spin 1s linear infinite;
    }
    
    .form-note {
        margin-top: 15px;
        color: #888;
        font-size: 0.9rem;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
    }
    
    /* Resources Section */
    .resources-section {
        margin: 80px 0;
        text-align: center;
    }
    
    .resources-section h3 {
        color: #1a237e;
        font-size: 2.2rem;
        margin-bottom: 40px;
    }
    
    .resources-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 30px;
    }
    
    .resource-card {
        background: white;
        border-radius: 20px;
        padding: 30px;
        box-shadow: 0 10px 30px rgba(108, 99, 255, 0.1);
        transition: transform 0.3s ease;
        text-align: center;
        border: 1px solid rgba(108, 99, 255, 0.1);
    }
    
    .resource-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 20px 40px rgba(108, 99, 255, 0.15);
    }
    
    .resource-icon {
        font-size: 2.5rem;
        background: linear-gradient(135deg, #6c63ff, #36d1dc);
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
        margin-bottom: 20px;
    }
    
    .resource-card h4 {
        color: #1a237e;
        margin-bottom: 10px;
    }
    
    .resource-card p {
        color: #666;
        margin-bottom: 20px;
        font-size: 0.95rem;
        line-height: 1.5;
    }
    
    .resource-link {
        color: #6c63ff;
        text-decoration: none;
        font-weight: 600;
        display: inline-flex;
        align-items: center;
        gap: 5px;
        transition: gap 0.3s;
    }
    
    .resource-link:hover {
        gap: 10px;
    }
    
    /* FAQ Section */
    .faq-section {
        margin: 80px 0;
    }
    
    .faq-section h3 {
        color: #1a237e;
        font-size: 2.2rem;
        margin-bottom: 40px;
        text-align: center;
    }
    
    .faq-container {
        max-width: 800px;
        margin: 0 auto;
    }
    
    .faq-item {
        background: white;
        border-radius: 15px;
        margin-bottom: 15px;
        overflow: hidden;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        border: 1px solid rgba(108, 99, 255, 0.1);
    }
    
    .faq-question {
        width: 100%;
        padding: 20px 30px;
        text-align: left;
        background: none;
        border: none;
        font-size: 1.1rem;
        font-weight: 600;
        color: #333;
        cursor: pointer;
        display: flex;
        justify-content: space-between;
        align-items: center;
        transition: background 0.3s;
    }
    
    .faq-question:hover {
        background: rgba(108, 99, 255, 0.05);
    }
    
    .faq-question i {
        color: #6c63ff;
        transition: transform 0.3s;
    }
    
    .faq-item.active .faq-question i {
        transform: rotate(180deg);
    }
    
    .faq-answer {
        padding: 0 30px;
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.3s ease, padding 0.3s ease;
    }
    
    .faq-item.active .faq-answer {
        padding: 20px 30px;
        max-height: 500px;
    }
    
    .faq-answer p {
        color: #666;
        line-height: 1.6;
    }
    
    /* Map Section */
    .map-section {
        margin: 80px 0;
        text-align: center;
    }
    
    .map-section h3 {
        color: #1a237e;
        font-size: 2.2rem;
        margin-bottom: 40px;
    }
    
    .map-container {
        background: white;
        border-radius: 20px;
        padding: 60px 40px;
        box-shadow: 0 10px 30px rgba(108, 99, 255, 0.1);
        border: 1px solid rgba(108, 99, 255, 0.1);
    }
    
    .map-placeholder {
        color: #666;
    }
    
    .map-placeholder i {
        font-size: 4rem;
        color: #6c63ff;
        margin-bottom: 20px;
    }
    
    .map-placeholder p {
        font-size: 1.2rem;
        margin-bottom: 30px;
    }
    
    .btn-map {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        background: #6c63ff;
        color: white;
        padding: 15px 30px;
        border-radius: 50px;
        text-decoration: none;
        font-weight: 600;
        transition: all 0.3s;
    }
    
    .btn-map:hover {
        background: #4a43d4;
        transform: translateY(-3px);
        box-shadow: 0 10px 20px rgba(108, 99, 255, 0.3);
    }
    
    /* Success/Error Messages */
    .alert {
        padding: 15px;
        border-radius: 10px;
        margin-bottom: 20px;
        display: none;
    }
    
    .alert-success {
        background: #d4edda;
        color: #155724;
        border: 1px solid #c3e6cb;
    }
    
    .alert-error {
        background: #f8d7da;
        color: #721c24;
        border: 1px solid #f5c6cb;
    }
    
    /* Animations */
    @keyframes spin {
        to { transform: rotate(360deg); }
    }
    
    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(30px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
    
    /* Scroll Animations */
    .fade-in {
        animation: fadeInUp 0.8s ease forwards;
    }
</style>

<!-- PHP Email Script (send_email.php) -->
<?php
// This should be in a separate file named send_email.php
/*
<?php
if ($_SERVER["REQUEST_METHOD"] == "POST") {
    // Collect form data
    $name = htmlspecialchars(trim($_POST['name']));
    $email = htmlspecialchars(trim($_POST['email']));
    $phone = htmlspecialchars(trim($_POST['phone'] ?? ''));
    $subject = htmlspecialchars(trim($_POST['subject']));
    $message = htmlspecialchars(trim($_POST['message']));
    
    // Validate required fields
    if (empty($name) || empty($email) || empty($subject) || empty($message)) {
        echo json_encode(['success' => false, 'message' => 'Please fill in all required fields.']);
        exit;
    }
    
    // Validate email
    if (!filter_var($email, FILTER_VALIDATE_EMAIL)) {
        echo json_encode(['success' => false, 'message' => 'Please enter a valid email address.']);
        exit;
    }
    
    // Email configuration
    $to = "elijahokware@gmail.com"; // Replace with your email
    $email_subject = "New Contact Form Submission: $subject";
    
    // Email headers
    $headers = "From: $name <$email>\r\n";
    $headers .= "Reply-To: $email\r\n";
    $headers .= "MIME-Version: 1.0\r\n";
    $headers .= "Content-Type: text/html; charset=UTF-8\r\n";
    
    // Email body
    $email_body = "
    <html>
    <head>
        <style>
            body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }
            .container { max-width: 600px; margin: 0 auto; padding: 20px; }
            .header { background: linear-gradient(135deg, #6c63ff, #36d1dc); color: white; padding: 20px; border-radius: 10px 10px 0 0; }
            .content { background: #f9f9f9; padding: 20px; border-radius: 0 0 10px 10px; }
            .field { margin-bottom: 15px; }
            .label { font-weight: bold; color: #6c63ff; }
        </style>
    </head>
    <body>
        <div class='container'>
            <div class='header'>
                <h2>New Contact Form Submission</h2>
            </div>
            <div class='content'>
                <div class='field'>
                    <span class='label'>Name:</span><br>
                    $name
                </div>
                <div class='field'>
                    <span class='label'>Email:</span><br>
                    $email
                </div>
                <div class='field'>
                    <span class='label'>Phone:</span><br>
                    " . ($phone ?: 'Not provided') . "
                </div>
                <div class='field'>
                    <span class='label'>Subject:</span><br>
                    $subject
                </div>
                <div class='field'>
                    <span class='label'>Message:</span><br>
                    " . nl2br($message) . "
                </div>
                <div class='field'>
                    <span class='label'>Submitted On:</span><br>
                    " . date('F j, Y, g:i a') . "
                </div>
            </div>
        </div>
    </body>
    </html>
    ";
    
    // Send email
    if (mail($to, $email_subject, $email_body, $headers)) {
        echo json_encode(['success' => true, 'message' => 'Thank you! Your message has been sent successfully. We will get back to you soon.']);
        
        // Optional: Save to database or log file
        $log_data = date('Y-m-d H:i:s') . " | Name: $name | Email: $email | Subject: $subject\n";
        file_put_contents('contact_log.txt', $log_data, FILE_APPEND);
        
    } else {
        echo json_encode(['success' => false, 'message' => 'Sorry, there was an error sending your message. Please try again later.']);
    }
    
    exit;
}
?>
*/
?>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Character counter for message textarea
    const messageTextarea = document.getElementById('message');
    const charCount = document.getElementById('charCount');
    
    if (messageTextarea && charCount) {
        messageTextarea.addEventListener('input', function() {
            const length = this.value.length;
            charCount.textContent = length;
            
            if (length > 500) {
                charCount.style.color = '#ff6b6b';
            } else if (length > 400) {
                charCount.style.color = '#ffd166';
            } else {
                charCount.style.color = '#888';
            }
        });
    }
    
    // FAQ toggle functionality
    const faqQuestions = document.querySelectorAll('.faq-question');
    
    faqQuestions.forEach(question => {
        question.addEventListener('click', function() {
            const faqItem = this.parentElement;
            const isActive = faqItem.classList.contains('active');
            
            // Close all other FAQ items
            document.querySelectorAll('.faq-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // Toggle current item if it wasn't active
            if (!isActive) {
                faqItem.classList.add('active');
            }
        });
    });
    
    // Form submission with AJAX
    const contactForm = document.getElementById('contactForm');
    const submitBtn = contactForm?.querySelector('.btn-submit');
    const submitLoader = submitBtn?.querySelector('.submit-loader');
    
    if (contactForm) {
        contactForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Show loading state
            if (submitBtn && submitLoader) {
                submitBtn.disabled = true;
                submitLoader.style.display = 'block';
                submitBtn.innerHTML = 'Sending...';
            }
            
            // Collect form data
            const formData = new FormData(this);
            
            // Send AJAX request
            fetch(this.action, {
                method: 'POST',
                body: formData,
                headers: {
                    'Accept': 'application/json'
                }
            })
            .then(response => response.json())
            .then(data => {
                // Remove any existing alerts
                document.querySelectorAll('.alert').forEach(alert => alert.remove());
                
                // Create alert message
                const alertDiv = document.createElement('div');
                alertDiv.className = `alert alert-${data.success ? 'success' : 'error'}`;
                alertDiv.textContent = data.message;
                alertDiv.style.display = 'block';
                alertDiv.style.animation = 'fadeInUp 0.5s ease';
                
                // Insert alert at the beginning of form
                contactForm.insertBefore(alertDiv, contactForm.firstChild);
                
                // Reset form on success
                if (data.success) {
                    contactForm.reset();
                    charCount.textContent = '0';
                }
                
                // Scroll to alert
                alertDiv.scrollIntoView({ behavior: 'smooth', block: 'center' });
                
                // Hide alert after 5 seconds
                setTimeout(() => {
                    alertDiv.style.opacity = '0';
                    alertDiv.style.transition = 'opacity 0.5s';
                    setTimeout(() => alertDiv.remove(), 500);
                }, 5000);
            })
            .catch(error => {
                console.error('Error:', error);
                
                // Show error message
                const alertDiv = document.createElement('div');
                alertDiv.className = 'alert alert-error';
                alertDiv.textContent = 'Network error. Please check your connection and try again.';
                alertDiv.style.display = 'block';
                
                contactForm.insertBefore(alertDiv, contactForm.firstChild);
            })
            .finally(() => {
                // Reset button state
                if (submitBtn && submitLoader) {
                    submitBtn.disabled = false;
                    submitLoader.style.display = 'none';
                    submitBtn.innerHTML = '<i class="fas fa-paper-plane"></i> Send Message';
                }
            });
        });
    }
    
    // Emergency contact animation
    const emergencyContact = document.querySelector('.emergency-contact');
    if (emergencyContact) {
        emergencyContact.addEventListener('mouseenter', function() {
            this.style.transform = 'scale(1.02)';
            this.style.transition = 'transform 0.3s ease';
        });
        
        emergencyContact.addEventListener('mouseleave', function() {
            this.style.transform = 'scale(1)';
        });
    }
    
    // Add subtle animations to resource cards
    const resourceCards = document.querySelectorAll('.resource-card');
    resourceCards.forEach((card, index) => {
        card.style.animationDelay = `${index * 0.1}s`;
        card.classList.add('fade-in');
    });
    
    // Contact item hover effects
    const contactItems = document.querySelectorAll('.contact-item');
    contactItems.forEach(item => {
        item.addEventListener('mouseenter', function() {
            this.style.transform = 'translateX(5px)';
            this.style.transition = 'transform 0.3s ease';
        });
        
        item.addEventListener('mouseleave', function() {
            this.style.transform = 'translateX(0)';
        });
    });
    
    // Form input animations
    const formInputs = document.querySelectorAll('.form-group input, .form-group select, .form-group textarea');
    formInputs.forEach(input => {
        input.addEventListener('focus', function() {
            this.parentElement.style.transform = 'translateY(-2px)';
        });
        
        input.addEventListener('blur', function() {
            this.parentElement.style.transform = 'translateY(0)';
        });
    });
    
    // Auto-expand textarea
    if (messageTextarea) {
        messageTextarea.addEventListener('input', function() {
            this.style.height = 'auto';
            this.style.height = (this.scrollHeight) + 'px';
        });
    }
    
    // WhatsApp quick action
    const whatsappItems = document.querySelectorAll('.contact-item a[href*="whatsapp"]');
    whatsappItems.forEach(item => {
        item.addEventListener('click', function(e) {
            // Add click animation
            this.style.transform = 'scale(0.95)';
            setTimeout(() => {
                this.style.transform = 'scale(1)';
            }, 200);
        });
    });
});
</script>

<!-- Depression Help Resources Modal -->
<div id="depression-help" class="modal-overlay">
    <div class="modal-content">
        <div class="modal-header">
            <h3>Depression Support Resources</h3>
            <button class="modal-close">&times;</button>
        </div>
        <div class="modal-body">
            <div class="resource-list">
                <div class="resource-item">
                    <h4><i class="fas fa-heartbeat"></i> Immediate Help</h4>
                    <p>If you're having thoughts of self-harm, please call emergency services immediately or reach out to:</p>
                    <ul>
                        <li>Nairobi Women's Hospital Crisis Line: <strong>0800 720 720</strong></li>
                        <li>Befrienders Kenya: <strong>0722 178 178</strong></li>
                        <li>Emergency Services: <strong>999 or 112</strong></li>
                    </ul>
                </div>
                
                <div class="resource-item">
                    <h4><i class="fas fa-hands-helping"></i> Coping Strategies</h4>
                    <p>Try these techniques when feeling overwhelmed:</p>
                    <ul>
                        <li>Practice deep breathing exercises</li>
                        <li>Reach out to a trusted friend or family member</li>
                        <li>Engage in light physical activity</li>
                        <li>Practice mindfulness meditation</li>
                    </ul>
                </div>
                
                <div class="resource-item">
                    <h4><i class="fas fa-calendar-check"></i> Self-Care Tips</h4>
                    <ul>
                        <li>Establish a daily routine</li>
                        <li>Get adequate sleep</li>
                        <li>Eat balanced meals</li>
                        <li>Limit alcohol and caffeine</li>
                        <li>Spend time in nature</li>
                    </ul>
                </div>
                
                <div class="resource-item">
                    <h4><i class="fas fa-book-medical"></i> Professional Help</h4>
                    <p>Remember: Depression is treatable. Seeking professional help is a sign of strength, not weakness.</p>
                    <a href="#contact" class="btn btn-primary">Schedule a Consultation</a>
                </div>
            </div>
        </div>
    </div>
</div>
